<!DOCTYPE html>
<html lang="en"><head>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-html/tabby.min.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.0.37">

  <title>ALDA2022 - Thinking longitudinally</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="site_libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    span.underline{text-decoration: underline;}
    div.column{display: inline-block; vertical-align: top; width: 50%;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="site_libs/revealjs/dist/theme/quarto.css" id="theme">
  <link rel="stylesheet" href="styles.css">
  <link href="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="site_libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-captioned.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-captioned) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-captioned.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-captioned .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-captioned .callout-caption  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-captioned.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-captioned.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-caption {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-caption {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-caption {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-captioned .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-captioned .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-captioned) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-caption {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-caption {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-caption {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-caption {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-caption {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="center">
  <h1 class="title">Thinking longitudinally</h1>
  <p class="subtitle">Intro to data and motivation</p>
</section>

<section id="goals-for-today" class="slide level2">
<h2>Goals for today:</h2>
<div class="cell">

</div>
<ul>
<li><p>Get a feeling for how to think/talk about longitudinal/repeated measures data</p></li>
<li><p>Introduce some important terms</p></li>
<li><p>Begin to develop a framework for analysis</p></li>
</ul>
</section>
<section id="how-to-think-longitudinal-y" class="slide level2">
<h2>how to think longitudinal-y</h2>
<div class="columns">
<div class="column" style="width:35%;">
<ol type="1">
<li><p>lines/ trajectories</p></li>
<li><p>variance decomposition</p></li>
</ol>
</div><div class="column" style="width:65%;">
<div class="cell">
<div class="cell-output-display">
<p><img data-src="intro-1_files/figure-revealjs/unnamed-chunk-2-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</section>
<section id="how-do-we-define-change" class="slide level2">
<h2>How do we define “change”?</h2>
<ul>
<li><p>Types of change (most common):</p></li>
<li><p>Differential / rank order consistency/rank order stability (correlations)</p></li>
<li><p>Mean level/ absolute change (mean differences)</p></li>
</ul>
</section>
<section class="slide level2">

<div class="columns">
<div class="column" style="width:50%;">
<p>Perfect rank order, mean level increase</p>
</div><div class="column" style="width:50%;">
<p>No rank order, mean level increase</p>
</div>
</div>

<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-3-1.png" width="960" class="r-stretch"></section>
<section id="how-do-we-define-change-1" class="slide level2">
<h2>How do we define “change”?</h2>
<ul>
<li><p>Because there are many types of change, we will view change in terms of the model.</p></li>
<li><p>(Usually) it is clearer to refer to the type of change in terms of an equation or pictorially. Putting a word onto it usually causes confusion, which is why there are a lot of redundant terms in the literature.</p></li>
<li><p>Models may be able to tell us about two different types of change (within person vs between person change)</p></li>
</ul>
</section>
<section id="prerequisites" class="slide level2">
<h2>Prerequisites</h2>
<ul>
<li><p>Ordinal or greater scale of measurement us easiest. Dichotomous is hard.</p></li>
<li><p>Construct has the same meaning across measurement occasions. Usually the same items. Called measurement invariance. Complicates developmental work.</p></li>
<li><p>2 or more measurement occasions. More is better! Though often 3 - 10 is practically fine for some models. With 30+ occasions you have “intensive” longitudinal data which presents new models and opportunities.</p></li>
</ul>
</section>
<section id="example" class="slide level2">
<h2>Example</h2>
<div class="panel-tabset">
<ul id="tabset-1" class="panel-tabset-tabby"><li><a data-tabby-default="" href="#tabset-1-1">Data</a></li><li><a href="#tabset-1-2">Plot</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1">
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 225 × 51
      ID group  time    CON CON_SAL CON_SMN7   DAN DAN_CON DAN_SAL DAN_SMN7
   &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;   &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;
 1     6 PD        4 0.193   0.0708   0.0088 0.162  0.116   0.0739   0.0041
 2     6 PD        5 0.195   0.0862   0.004  0.168  0.117   0.0812   0.0204
 3     6 PD        6 0.181   0.0916  -0.0037 0.215  0.164   0.113    0.0155
 4    29 PD        4 0.159   0.0438  -0.0253 0.175  0.0161  0.0621   0.0121
 5    29 PD        5 0.0881  0.0446  -0.0288 0.136  0.0377  0.0277   0.0444
 6    34 CTRL      4 0.137   0.0113  -0.0792 0.166  0.0045 -0.0075   0.0432
 7    34 CTRL      6 0.0746  0.0009  -0.0089 0.140  0.0635 -0.024    0.0483
 8    36 CTRL      1 0.139   0.0438  -0.0466 0.152  0.0279  0.0137   0.0513
 9    36 CTRL      4 0.180   0.0772  -0.0648 0.205 -0.0116 -0.0477   0.0415
10    37 PD        3 0.226   0.0412  -0.0565 0.219  0.0971  0.0195   0.0644
# … with 215 more rows, and 41 more variables: DMN6 &lt;dbl&gt;, DMN6_CON &lt;dbl&gt;,
#   DMN6_DAN &lt;dbl&gt;, DMN6_SAL &lt;dbl&gt;, DMN6_SMN7 &lt;dbl&gt;, SAL &lt;dbl&gt;, SAL_SMN7 &lt;dbl&gt;,
#   SMN7 &lt;dbl&gt;, wave &lt;dbl&gt;, date &lt;date&gt;, Exclude &lt;chr&gt;, RSNdata &lt;dbl&gt;,
#   RSNexclude &lt;chr&gt;, RSNexcludeDevDem &lt;chr&gt;, CogDate_0 &lt;date&gt;,
#   CCIRtrio_MR_date_0 &lt;date&gt;, Dur_PDsx_0 &lt;dbl&gt;, PIBpos18 &lt;chr&gt;,
#   Neuro_Dx &lt;chr&gt;, NeuroCDR_0 &lt;chr&gt;, NeuroCDR_1 &lt;chr&gt;, NeuroCDR_2 &lt;chr&gt;,
#   NeuroCDR_3 &lt;chr&gt;, NeuroCDR_4 &lt;chr&gt;, NeuroCDR_5 &lt;chr&gt;, NeuroCDR_6 &lt;chr&gt;, …</code></pre>
</div>
</div>
</div>
<div id="tabset-1-2">
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a><span class="fu">ggplot</span>(example,</span>
<span id="cb2-2"><a href="#cb2-2"></a>   <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> SMN7, <span class="at">group =</span> ID)) <span class="sc">+</span> <span class="fu">geom_point</span>()  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img data-src="intro-1_files/figure-revealjs/unnamed-chunk-5-1.png" width="960"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a><span class="fu">ggplot</span>(example,</span>
<span id="cb3-2"><a href="#cb3-2"></a>   <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> SMN7, <span class="at">group =</span> ID, <span class="at">colour =</span> ID)) <span class="sc">+</span> <span class="fu">geom_line</span>(<span class="at">alpha =</span> .<span class="dv">4</span>) <span class="sc">+</span><span class="fu">scale_color_viridis</span>(   ) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-6-1.png" width="960" class="r-stretch"></section>
<section id="individual-level" class="slide level2">
<h2>Individual level</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1"></a><span class="fu">ggplot</span>(example, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> SMN7, <span class="at">group =</span> ID)) <span class="sc">+</span> <span class="fu">geom_line</span>() <span class="sc">+</span>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">facet_wrap</span>( <span class="sc">~</span> ID)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>

</div>
<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-7-1.png" width="960" class="r-stretch"></section>
<section id="questions-we-need-to-answer" class="slide level2">
<h2>Questions we need to answer</h2>
<ul>
<li>What is the theoretical shape we want to model - linear, quadradic, cyclical, etc?</li>
<li>Is shape related to calendar time, age, or maybe artificial time such as grade?</li>
</ul>
</section>
<section id="defining-a-time-metric" class="slide level2">
<h2>Defining a time metric</h2>
<ul>
<li><p>Time is the most important part of a longitudinal analyses. The key to interpreting your output is to know how you handled your time variable.</p></li>
<li><p>What is the process that is changing someone? Age? Time in study? Year? Wave?</p></li>
<li><p>Is it a naturally occurring developmental process? Then maybe age is the best metric. What about tracking child’s cognitive ability, something that might be influenced by level of schooling? Here grade may be more important than age. If you are running an intervention you may want to put everyone on the same starting metric and then control for nuisance variables like age or schooling level.</p></li>
</ul>
</section>
<section id="temporal-design" class="slide level2">
<h2>Temporal design</h2>
<ul>
<li>I.e., timing, frequency, and spacing of assessments.</li>
<li>How longitudinal data are collected will impact our ability to model the theoretical shape.</li>
<li>Because of the difficulty of collecting longitudinal data, a lot of longitudinal data are under specified.</li>
</ul>
</section>
<section id="statistical-model" class="slide level2">
<h2>Statistical model</h2>
<ul>
<li><p>With a theoretical model of change in mind, and a good temporal design, we can then choose our statistical model.</p></li>
<li><p>This matching of theory with design with a model is similar to all of stats. We will be using three general purpose models that are related, but have pros and cons in different areas: MLM, SEM, and GAMs</p></li>
</ul>
</section>
<section id="simple-to-begin-with" class="slide level2">
<h2>Simple to begin with</h2>
<p>Before we get too fancy, lets just run some regressions.</p>

<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-8-1.png" width="960" class="r-stretch"></section>
<section id="individual-regression-output" class="slide level2">
<h2>Individual regression output</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a><span class="fu">library</span>(broom)</span>
<span id="cb5-2"><a href="#cb5-2"></a>regressions <span class="ot">&lt;-</span> example2 <span class="sc">%&gt;%</span> </span>
<span id="cb5-3"><a href="#cb5-3"></a>  <span class="fu">group_by</span>(ID) <span class="sc">%&gt;%</span> </span>
<span id="cb5-4"><a href="#cb5-4"></a>  <span class="fu">do</span>(<span class="fu">tidy</span>(<span class="fu">lm</span>(SMN7 <span class="sc">~</span> week, <span class="at">data=</span>.)))</span>
<span id="cb5-5"><a href="#cb5-5"></a></span>
<span id="cb5-6"><a href="#cb5-6"></a>regressions</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 6
# Groups:   ID [10]
      ID term        estimate std.error statistic  p.value
   &lt;dbl&gt; &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
 1    67 (Intercept)  0.0921    0.0161      5.72    0.0292
 2    67 week         0.00662   0.00657     1.01    0.420 
 3    75 (Intercept)  0.126   NaN         NaN     NaN     
 4    75 week         0.00771 NaN         NaN     NaN     
 5    87 (Intercept)  0.0787  NaN         NaN     NaN     
 6    87 week        -0.0227  NaN         NaN     NaN     
 7    99 (Intercept)  0.111     0.0236      4.69    0.0426
 8    99 week         0.00545   0.0122      0.446   0.699 
 9   101 (Intercept)  0.111     0.0424      2.62    0.232 
10   101 week         0.0421    0.0217      1.94    0.303 
11   103 (Intercept)  0.0887  NaN         NaN     NaN     
12   103 week        -0.0168  NaN         NaN     NaN     
13   105 (Intercept)  0.0465    0.00658     7.06    0.0896
14   105 week         0.00122   0.00467     0.261   0.838 
15   142 (Intercept)  0.197   NaN         NaN     NaN     
16   142 week         0.0130  NaN         NaN     NaN     
17   149 (Intercept)  0.0801  NaN         NaN     NaN     
18   149 week         0.00497 NaN         NaN     NaN     
19   152 (Intercept)  0.0921  NaN         NaN     NaN     
20   152 week        -0.0172  NaN         NaN     NaN     </code></pre>
</div>
</div>
</section>
<section id="average-each-regression" class="slide level2">
<h2>Average each regression</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>regressions <span class="sc">%&gt;%</span> </span>
<span id="cb7-2"><a href="#cb7-2"></a>  <span class="fu">group_by</span>(term) <span class="sc">%&gt;%</span> </span>
<span id="cb7-3"><a href="#cb7-3"></a>  <span class="fu">summarise</span>(<span class="at">avg.reg =</span> <span class="fu">mean</span>(estimate))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2 × 2
  term        avg.reg
  &lt;chr&gt;         &lt;dbl&gt;
1 (Intercept) 0.102  
2 week        0.00244</code></pre>
</div>
</div>
<p>This is not that far off from what MLM gives us.</p>
</section>
<section id="spaghetti-plot" class="slide level2">
<h2>Spaghetti Plot</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a><span class="fu">ggplot</span>(example, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> SMN7, <span class="at">group =</span> ID)) <span class="sc">+</span> <span class="fu">geom_point</span>(<span class="at">alpha =</span> <span class="fl">0.05</span>) <span class="sc">+</span> <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span>  <span class="fu">stat_smooth</span>(<span class="at">data =</span> example, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> SMN7, <span class="at">group=</span><span class="dv">1</span>, <span class="at">color =</span> <span class="st">"black"</span>), <span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">size =</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="fu">guides</span>(<span class="at">fill=</span><span class="st">"none"</span>)<span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-11-1.png" width="960" class="r-stretch"></section>
<section id="thinking-longitudinally" class="slide level2">
<h2>Thinking longitudinally</h2>
<p>Almost all of the questions we have can be simplified down to: lines/trajectories.</p>
<ul>
<li><p>Person level trajectories index change for a person</p></li>
<li><p>Average person trajectory is the average trajectory</p></li>
<li><p>Predictors of change are just a correlation with the trajectory and the predictor</p></li>
</ul>
</section>
<section id="lines-regardless-of-the-stat-model" class="slide level2">
<h2>Lines, regardless of the stat model</h2>
<ul>
<li><p>MLM and SEM (and even GAMs) can be equivalent</p></li>
<li><p>We will start with MLM/HLM as it is simple extension of standard regression models. Best suited to run models when the time of measurement differs from person to person (compared to equal intervals). MLM is also better suited for complex error structures and complex nesting above and beyond assessments within person</p></li>
</ul>
</section>
<section id="why-not-rm-anova" class="slide level2">
<h2>Why not RM ANOVA?</h2>
<ol type="1">
<li>Cannot handle missing data</li>
<li>Assumes rate of change is the same for all individuals.</li>
<li>Time is categorical.</li>
<li>Accounting for correlation across time uses up many parameters (df penalty).</li>
<li>Cannot handle some types of predictors</li>
<li>Special case of MLM, might as well learn/use flexible model</li>
</ol>
</section>
<section id="how-to-think-longitudinal-y-1" class="slide level2">
<h2>how to think longitudinal-y</h2>
<ol type="1">
<li><p>lines/ trajectories</p></li>
<li><p>variance decomposition</p></li>
</ol>
</section>
<section id="modeling-dependency" class="slide level2">
<h2>Modeling dependency</h2>
<p>We have multiple DVs per person with longitudinal data. If we ignored the person aspect, the residuals would likely be related, violating standard regression assumption. MLM accounts for residuals for outcomes from the same person through modeling different “levels”</p>
<p>With longitudinal data we have people nested within observations.</p>
<p>Level 1: observation level (observation specific variance)<br>
Level 2: person level (person specific variance)</p>
</section>
<section id="person-specific-variance" class="slide level2">
<h2>Person specific variance</h2>
<p>Some people start at different levels and some people change at different rates</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">ggplot</span>(example, <span class="fu">aes</span>(<span class="at">x =</span> year, <span class="at">y =</span> SMN7, <span class="at">group =</span> ID, <span class="at">colour =</span> ID)) <span class="sc">+</span> <span class="fu">stat_smooth</span>(<span class="at">method =</span> <span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>, <span class="at">alpha =</span> .<span class="dv">5</span>) <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">legend.position=</span><span class="st">"none"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-12-1.png" width="960" class="r-stretch"></section>
<section id="observation-level-variance" class="slide level2">
<h2>Observation level variance</h2>
<p>After account for a person starting level and their slope, there is still residual variance left over.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a>ob.var <span class="ot">&lt;-</span> example <span class="sc">%&gt;%</span> </span>
<span id="cb11-2"><a href="#cb11-2"></a>  <span class="fu">filter</span>(ID <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"67"</span>,<span class="st">"82"</span>, <span class="st">"110"</span>)) </span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a>example3 <span class="ot">&lt;-</span></span>
<span id="cb11-5"><a href="#cb11-5"></a>  <span class="fu">left_join</span>(ob.var, example)  </span>
<span id="cb11-6"><a href="#cb11-6"></a>  </span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="fu">ggplot</span>(example3,</span>
<span id="cb11-8"><a href="#cb11-8"></a>   <span class="fu">aes</span>(<span class="at">x =</span> week, <span class="at">y =</span> SMN7, <span class="at">group =</span> ID)) <span class="sc">+</span>  <span class="fu">geom_point</span>() <span class="sc">+</span> <span class="fu">stat_smooth</span>(<span class="at">method=</span><span class="st">"lm"</span>, <span class="at">se =</span> <span class="cn">FALSE</span>) <span class="sc">+</span> <span class="fu">facet_wrap</span>( <span class="sc">~</span>ID)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="intro-1_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch"></section>
<section id="thinking-about-variation" class="slide level2">
<h2>Thinking about variation</h2>
<p>A goal of longitudinal data analysis (and all other data analysis) is to explain this variation. We will fit models that includes predictors and model constraints (e.g.&nbsp;are people similar or different) to see how it impacts variation.</p>
<p>To the extent that we can put variance into different “piles” (eg people change at different rates, a random slope) we will have more explained variance and less unexplained variance.</p>
</section>
<section id="speaking-of-variation" class="slide level2">
<h2>Speaking of variation</h2>
<ul>
<li><p>Between-Person (BP) Variation/Level-2/INTER-individual differences/Time-Invariant<br>
BP = More/less than other people</p></li>
<li><p>Within-Person (WP) Variation/Level-1/INTRA-individual Differences/Time-Varying<br>
WP = more/less than one’s average</p></li>
<li><p>Any variable measured over time usually has both BP and WP variation</p></li>
</ul>
</section>
<section id="change-vs-fluctuations" class="slide level2">
<h2>Change vs fluctuations</h2>
<ul>
<li><p>Fuzzy boundary, but:</p></li>
<li><p>Within-Person Change: Systematic (lasting) change. Can refer to between-person (inter-individual) differences in within-person change (intra-individual)</p></li>
<li><p>Within-Person Fluctuation: No systematic change Outcome just varies/fluctuates over time (e.g., emotion, stress). Time is just a way to get lots of data per individual</p></li>
</ul>
</section>
<section id="what-are-data" class="slide level2">
<h2>What Are Data?</h2>
<p>Data are the core of everything that we do in statistical analysis. Data come in many forms, and I don’t just mean <code>.csv</code>, <code>.xls</code>, <code>.sav</code>, etc. Data can be wide, long, documented, fragmented, messy, and about anything else that you can imagine.</p>
<p>Why are we thinking about data? Because 80%, maybe more, of your time spent with “analysis” is spent getting data in order and setting up your model of interest.</p>
</section>
<section id="wide-vs-long" class="slide level2">
<h2>Wide vs long</h2>
<ul>
<li><p>multivariate vs stacked</p></li>
<li><p>person vs person period</p></li>
<li><p>untidy vs tidy*</p></li>
<li><p>Long is what MLM, ggplot2 and tidyverse packages expect whereas SEM and a lot of descriptives are calculated using wide dataframes.</p></li>
</ul>
</section>
<section class="slide level2">


<img data-src="tidyr.gif" class="r-stretch"></section>
<section id="tidyr-pivot-functions" class="slide level2">
<h2>tidyr pivot functions</h2>
<p>For longitudinal/repeated measures data, each row is an observation. Each person will have multiple rows.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 225 × 4
      ID  wave group   DAN
   &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
 1     6     1 PD    0.162
 2     6     2 PD    0.168
 3     6     3 PD    0.215
 4    29     1 PD    0.175
 5    29     2 PD    0.136
 6    34     1 CTRL  0.166
 7    34     2 CTRL  0.140
 8    36     1 CTRL  0.152
 9    36     2 CTRL  0.205
10    37     1 PD    0.219
# … with 215 more rows</code></pre>
</div>
</div>
</section>
<section id="pivot_wider" class="slide level2">
<h2>pivot_wider</h2>
<p>The pivot_wider() function takes two arguments: names_from which is the variable whose values will be converted to column names and values_from whose values will be cell values.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>wide.ex <span class="ot">&lt;-</span> long <span class="sc">%&gt;%</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> wave, <span class="at">values_from =</span> DAN) </span>
<span id="cb13-3"><a href="#cb13-3"></a>wide.ex</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 91 × 6
      ID group    `1`    `2`    `3`   `4`
   &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;
 1     6 PD    0.162  0.168   0.215    NA
 2    29 PD    0.175  0.136  NA        NA
 3    34 CTRL  0.166  0.140  NA        NA
 4    36 CTRL  0.152  0.205  NA        NA
 5    37 PD    0.219  0.158   0.259    NA
 6    48 PD    0.130  0.270   0.248    NA
 7    53 CTRL  0.211  0.152  NA        NA
 8    54 PD    0.220  0.152   0.192    NA
 9    58 PD    0.380  0.215   0.204    NA
10    61 PD    0.0818 0.0628 NA        NA
# … with 81 more rows</code></pre>
</div>
</div>
</section>
<section id="pivot_longer" class="slide level2">
<h2>pivot_longer</h2>
<p>The pivot_longer function takes three arguments: - cols is a list of columns that are to be collapsed. The columns can be referenced by column number or column name. - names_to is the name of the new column which will combine all column names. This is up to you to decide what the name is. - values_to is the name of the new column which will combine all column values associated with each variable combination.</p>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1"></a>wide.ex <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="st">'1'</span><span class="sc">:</span><span class="st">'4'</span>, </span>
<span id="cb15-3"><a href="#cb15-3"></a>               <span class="at">names_to =</span> <span class="st">"wave"</span>, </span>
<span id="cb15-4"><a href="#cb15-4"></a>               <span class="at">values_to =</span> <span class="st">"DAN"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 364 × 4
      ID group wave     DAN
   &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;  &lt;dbl&gt;
 1     6 PD    1      0.162
 2     6 PD    2      0.168
 3     6 PD    3      0.215
 4     6 PD    4     NA    
 5    29 PD    1      0.175
 6    29 PD    2      0.136
 7    29 PD    3     NA    
 8    29 PD    4     NA    
 9    34 CTRL  1      0.166
10    34 CTRL  2      0.140
# … with 354 more rows</code></pre>
</div>
</div>
</section>
<section id="seperate-and-unite" class="slide level2">
<h2>Seperate and Unite</h2>
<ul>
<li><p>Many times datasets are, for a lack of a better term, messy.</p></li>
<li><p>One common way to represent longitudinal data is to name the variable with a wave signifier.</p></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 4
     ID ext_1 ext_2 ext_3
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1     4     4     4
2     2     6     5     4
3     3     4     5     6</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>wide <span class="sc">%&gt;%</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> ext_1<span class="sc">:</span>ext_3, <span class="at">names_to =</span> <span class="st">"time"</span>, <span class="at">values_to =</span> <span class="st">"EXT"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
     ID time    EXT
  &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1     1 ext_1     4
2     1 ext_2     4
3     1 ext_3     4
4     2 ext_1     6
5     2 ext_2     5
6     2 ext_3     4
7     3 ext_1     4
8     3 ext_2     5
9     3 ext_3     6</code></pre>
</div>
</div>
<div class="fragment">
<p>The time column is now specific to ext, which is a problem if I have more than one variable that I am pivoting. So how can we go ahead and separate out the ext part?</p>
</div>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>wide <span class="sc">%&gt;%</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> ext_1<span class="sc">:</span>ext_3, </span>
<span id="cb20-3"><a href="#cb20-3"></a>               <span class="at">names_to =</span> <span class="st">"time"</span>, </span>
<span id="cb20-4"><a href="#cb20-4"></a>               <span class="at">values_to =</span> <span class="st">"EXT"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="fu">separate</span>(time, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">"variable"</span>, <span class="st">"time"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 4
     ID variable time    EXT
  &lt;dbl&gt; &lt;chr&gt;    &lt;chr&gt; &lt;dbl&gt;
1     1 ext      1         4
2     1 ext      2         4
3     1 ext      3         4
4     2 ext      1         6
5     2 ext      2         5
6     2 ext      3         4
7     3 ext      1         4
8     3 ext      2         5
9     3 ext      3         6</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>In terms of setting up your data, it is often helpful to include markers that separate parts of the variable eg “_” or “.” A variable that is ext_1 is easier to separate than ext1.</p>
<p>Also that the time column is a character rather than numeric. We need to change this so as to use time continuously in our models. There are a few ways to do it, but this is perhaps the most straightforward.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>long<span class="sc">$</span>time <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(long<span class="sc">$</span>time)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<p>Something that is a little more elegant is to do both the separating AND the making into numeric in the original pivot_longer function</p>
<p>names_prefix omits what is in there from the new cell names. Previously we had ext_1, ext_2, etc, which we had to separate with a different function, but this does it within pivot_longer</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1"></a>wide <span class="sc">%&gt;%</span> </span>
<span id="cb23-2"><a href="#cb23-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> ext_1<span class="sc">:</span>ext_3, </span>
<span id="cb23-3"><a href="#cb23-3"></a>               <span class="at">names_to =</span> <span class="st">"time"</span>, </span>
<span id="cb23-4"><a href="#cb23-4"></a>               <span class="at">values_to =</span> <span class="st">"EXT"</span>, </span>
<span id="cb23-5"><a href="#cb23-5"></a>               <span class="at">names_prefix =</span> <span class="st">"ext_"</span>) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<p>names_transform does any transformations within the variables. Here instead of a separate call, we can make our variables numeric.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>wide <span class="sc">%&gt;%</span> </span>
<span id="cb24-2"><a href="#cb24-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> ext_1<span class="sc">:</span>ext_3, </span>
<span id="cb24-3"><a href="#cb24-3"></a>               <span class="at">names_to =</span> <span class="st">"time"</span>, </span>
<span id="cb24-4"><a href="#cb24-4"></a>               <span class="at">values_to =</span> <span class="st">"EXT"</span>, </span>
<span id="cb24-5"><a href="#cb24-5"></a>               <span class="at">names_prefix =</span> <span class="st">"ext_"</span>, </span>
<span id="cb24-6"><a href="#cb24-6"></a>               <span class="at">names_transform =</span> <span class="fu">list</span>(<span class="at">time =</span> as.numeric)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 9 × 3
     ID  time   EXT
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1     1     4
2     1     2     4
3     1     3     4
4     2     1     6
5     2     2     5
6     2     3     4
7     3     1     4
8     3     2     5
9     3     3     6</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>Another common problem that we often face is the need to unite two variables into one. Enter, the creatively titled unite function. Sometimes this happens when our time metric is entered in seperate columns.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 6
     ID  year month   day  hour   min
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1     1  2020     1     1     4    55
2     2  2020     1     1     2    17
3     3  2020     1     1     5    23</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>To combine them into one time metric</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">unite</span>(<span class="at">col =</span> time, <span class="dv">5</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">sep=</span><span class="st">":"</span>, <span class="at">remove =</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 5
     ID  year month   day time 
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt;
1     1  2020     1     1 4:55 
2     2  2020     1     1 2:17 
3     3  2020     1     1 5:23 </code></pre>
</div>
</div>
</section>
<section id="date-time-metrics" class="slide level2">
<h2>Date time metrics</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1"></a><span class="fu">library</span>(lubridate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>A date-time is a date plus a time: it uniquely identifies an instant in time (typically to the nearest second). These are called POSIXct in R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="fu">today</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2022-08-30"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a><span class="fu">now</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2022-08-30 14:20:53 CDT"</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>Bringing these into R from some outside place (excel, spss) can lead to confusion, as they can be formatted differently</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="fu">ymd</span>(<span class="st">"2017-01-31"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-01-31"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb36"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb36-1"><a href="#cb36-1"></a><span class="fu">mdy</span>(<span class="st">"January 31st, 2017"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-01-31"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb38"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb38-1"><a href="#cb38-1"></a><span class="fu">dmy</span>(<span class="st">"31-Jan-2017"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-01-31"</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>You can create these relatively straight forwardly…by hand</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb40"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb40-1"><a href="#cb40-1"></a><span class="fu">ymd_hms</span>(<span class="st">"2017-01-31 20:11:59"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-01-31 20:11:59 UTC"</code></pre>
</div>
<div class="sourceCode cell-code" id="cb42"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb42-1"><a href="#cb42-1"></a><span class="fu">mdy_hm</span>(<span class="st">"01/31/2017 08:01"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2017-01-31 08:01:00 UTC"</code></pre>
</div>
</div>
<p>Or you can use existing columns variables. This is where the {lubridate} package comes in handy</p>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb44"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb44-1"><a href="#cb44-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb44-2"><a href="#cb44-2"></a>  <span class="fu">mutate</span>(<span class="at">t_1 =</span> <span class="fu">make_datetime</span>(year, month, day, hour, min))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 3 × 7
     ID  year month   day  hour   min t_1                
  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dttm&gt;             
1     1  2020     1     1     4    55 2020-01-01 04:55:00
2     2  2020     1     1     2    17 2020-01-01 02:17:00
3     3  2020     1     1     5    23 2020-01-01 05:23:00</code></pre>
</div>
</div>
<p>Note the t_1 variable is a POSIXct (date time) variable type. Once in this format it is much easier to manipulate and work with dates and times.</p>
</section>
<section id="projects-and-rmarkdown" class="slide level2">
<h2>Projects and Rmarkdown</h2>
<p>As with any project, but especially for longitudinal data, one of the most important aspects of data analysis is A. not losing track of what you did and B. being organized.</p>
<ol type="1">
<li>rstudio projects 2. git and 3. codebooks are helpful in accomplishing these two goals. We will talk about #1 and #3 but I also encourage you to read about git. These are not the only way to do these sorts of analyses but I feel that exposure to them is helpful, as often in the social sciences these sort of decisions are not discussed.</li>
</ol>
</section>
<section class="slide level2">

<p>The main reason I am going over this is because too much of the code I see looks like this:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb46"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb46-1"><a href="#cb46-1"></a><span class="fu">mutate</span>(<span class="at">score_mean1 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1a"</span>, <span class="st">"Score2a"</span>, <span class="st">"Score3a"</span>, <span class="st">"Score4a"</span>)]))</span>
<span id="cb46-2"><a href="#cb46-2"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-3"><a href="#cb46-3"></a>  <span class="fu">mutate</span>(<span class="at">score_mean2 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1b"</span>, <span class="st">"Score2b"</span>, <span class="st">"Score3b"</span>, <span class="st">"Score4b"</span>)]))</span>
<span id="cb46-4"><a href="#cb46-4"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-5"><a href="#cb46-5"></a>  <span class="fu">mutate</span>(<span class="at">score_mean3 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1c"</span>, <span class="st">"Score2c"</span>, <span class="st">"Score3c"</span>, <span class="st">"Score4c"</span>)]))</span>
<span id="cb46-6"><a href="#cb46-6"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-7"><a href="#cb46-7"></a>  <span class="fu">mutate</span>(<span class="at">score_mean4 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1d"</span>, <span class="st">"Score2d"</span>, <span class="st">"Score3d"</span>, <span class="st">"Score4d"</span>)]))</span>
<span id="cb46-8"><a href="#cb46-8"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-9"><a href="#cb46-9"></a>  <span class="fu">mutate</span>(<span class="at">score_mean5 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1e"</span>, <span class="st">"Score2e"</span>, <span class="st">"Score3e"</span>, <span class="st">"Score4e"</span>)]))</span>
<span id="cb46-10"><a href="#cb46-10"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-11"><a href="#cb46-11"></a>  <span class="fu">mutate</span>(<span class="at">score_mean6 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1f"</span>, <span class="st">"Score2f"</span>, <span class="st">"Score3f"</span>, <span class="st">"Score4f"</span>)]))</span>
<span id="cb46-12"><a href="#cb46-12"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-13"><a href="#cb46-13"></a>  <span class="fu">mutate</span>(<span class="at">score_mean7 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1g"</span>, <span class="st">"Score2g"</span>, <span class="st">"Score3g"</span>, <span class="st">"Score4g"</span>)]))</span>
<span id="cb46-14"><a href="#cb46-14"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-15"><a href="#cb46-15"></a>  <span class="fu">mutate</span>(<span class="at">score_mean8 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1h"</span>, <span class="st">"Score2h"</span>, <span class="st">"Score3h"</span>, <span class="st">"Score4h"</span>)]))</span>
<span id="cb46-16"><a href="#cb46-16"></a>data <span class="ot">&lt;-</span> import <span class="sc">%&gt;%</span></span>
<span id="cb46-17"><a href="#cb46-17"></a>  <span class="fu">mutate</span>(<span class="at">score_mean9 =</span> <span class="fu">rowMeans</span>(data[ ,<span class="fu">c</span>(<span class="st">"Score1i"</span>, <span class="st">"Score2i"</span>, <span class="st">"Score3i"</span>, <span class="st">"Score4i"</span>)]))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<p>What these help to do is create a chain of processing where you start with RAW data and end up with the cleaned data. Importantly you can always start over from the raw data. This is important for people wanting to reproduce your findings and or your future self figuring out where a certain variable came from.</p>
<p>We start creating the chain of processing by documenting all of your code. To do so we will be using rmarkdown or quarto documents, as the language is easier than LaTeX and more helpful than plaintext.</p>
</section>
<section class="slide level2">

<p>When I create an rmarkdown document for my own research projects, I always start by setting up 3 components:</p>
<ol type="1">
<li>Packages<br>
</li>
<li>Codebook(s)<br>
</li>
<li>Data</li>
</ol>
<p>Below, we will step through each of these separately, setting ourselves up to (hopefully) flawlessly communicate with <code>R</code> and our data. Note that you do not need to use rmarkdown or quarto but I think they are much more useful than standard .R syntax.</p>
</section>
<section id="packages" class="slide level2">
<h2>Packages</h2>
<p>Packages seems like the most basic step, but it is actually very important. Depending on what gets loaded you might overwrite functions from other packages. (Note: I will often reload or not follow this advice within lectures for didactic reasons, choosing to put library calls above the code)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a><span class="co"># load packages</span></span>
<span id="cb47-2"><a href="#cb47-2"></a><span class="fu">library</span>(psych)</span>
<span id="cb47-3"><a href="#cb47-3"></a><span class="fu">library</span>(plyr)</span>
<span id="cb47-4"><a href="#cb47-4"></a><span class="fu">library</span>(tidyverse)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="codebook" class="slide level2">
<h2>Codebook</h2>
<p>The second step is a codebook. Arguably, this is the first step because you should <em>create</em> the codebook long before you open <code>R</code> and load your data.</p>
<p>Why a codebook? Well, because you typically have a lot of variables and you will not be able to remember all the details that go into each one of them (rating scale, what the actual item was, was it coded someway, etc). This is especially true now that data are being collected online, which often provides placeholder variable names that then need to be processed somehow.</p>
<p>This codebook will serve as a means to document RAW code. It will also allow us to automate some tasks that are somewhat cumbersome, facilitate open data practices, and efficiently see what variables are available. Ultimately, we want to be able to show how we got from the start, with the messy raw data, to our analyses and results at the end? A codebook makes this easier.</p>
</section>
<section class="slide level2">

<p>To illustrate, we are going to using some data from the German Socioeconomic Panel Study (GSOEP), which is an ongoing Panel Study in Germany. Note that these data are for teaching purposes only, shared under the license for the Comprehensive SOEP teaching dataset. The full data are available for free at: https://www.diw.de/en/diw_02.c.222829.en/access_and_ordering.html.</p>
</section>
<section class="slide level2">

<p>For this tutorial, I created the codebook for you, and included what I believe are the core columns you may need. Some of these columns will not be particularly helpful for this dataset. For example, many of you likely work with datasets that have only a single file while others work with datasets spread across many files (e.g., different waves, different sources). As a result, the “dataset” column of the codebook may only have a single value whereas for others it may have multiple.</p>
<p>Here are my core columns that are based on the original data</p>
</section>
<section class="slide level2">

<ol type="1">
<li><p><strong>dataset</strong> this column indexes the <strong>name</strong> of the dataset that you will be pulling the data from. This is important because we will use this info later on to load and clean specific data files.</p></li>
<li><p><strong>old_name</strong> this column is the name of the variable in the data you are pulling it from. This should be exact. The goal of this column is that it will allow us to <code>select()</code> variables from the original data file and rename them something that is more useful to us.</p></li>
<li><p><strong>item_text</strong> this column is the original text that participants saw or a description of the item.</p></li>
<li><p><strong>scale</strong> this column tells you what the scale of the variable is. Is it a numeric variable, a text variable, etc. This is helpful for knowing the plausible range.</p></li>
<li><p><strong>reverse</strong> this column tells you whether items in a scale need to be reverse coded. I recommend coding this as 1 (leave alone) and -1 (reverse) for reasons that will become clear later.</p></li>
<li><p><strong>mini</strong> this column represents the minimum value of scales that are numeric. Leave blank otherwise.</p></li>
<li><p><strong>maxi</strong> this column represents the maximumv alue of scales that are numeric. Leave blank otherwise.</p></li>
<li><p><strong>recode</strong> sometimes, we want to recode variables for analyses (e.g.&nbsp;for categorical variables with many levels where sample sizes for some levels are too small to actually do anything with it). I use this column to note the kind of recoding I’ll do to a variable for transparency.</p></li>
</ol>
</section>
<section class="slide level2">

<p>Here are additional columns that will make our lives easier or are applicable to some but not all data sets:</p>
<ol start="9" type="1">
<li><p><strong>category</strong> broad categories that different variables can be put into. I’m a fan of naming them things like “outcome”, “predictor”, “moderator”, “demographic”, “procedural”, etc. but sometimes use more descriptive labels like “Big 5” to indicate the model from which the measures are derived.</p></li>
<li><p><strong>label</strong> label is basically one level lower than category. So if the category is Big 5, the label would be, or example, “A” for Agreeableness, “SWB” for subjective well-being, etc. This column is most important and useful when you have multiple items in a scales, so I’ll typically leave this blank when something is a standalone variable (e.g.&nbsp;sex, single-item scales, etc.).</p></li>
<li><p><strong>item_name</strong> This is the lowest level and most descriptive variable. It indicates which item in scale something is. So it may be “kind” for Agreebleness or “sex” for the demographic biological sex variable.</p></li>
<li><p><strong>year</strong> for longitudinal data, we have several waves of data and the name of the same item across waves is often different, so it’s important to note to which wave an item belongs. You can do this by noting the wave (e.g.&nbsp;1, 2, 3), but I prefer the actual year the data were collected (e.g.&nbsp;2005, 2009, etc.) if that is appropriate.</p></li>
<li><p><strong>new_name</strong> This is a column that brings together much of the information we’ve already collected. It’s purpose is to be the new name that we will give to the variable that is more useful and descriptive to us. This is a constructed variable that brings together others. I like to make it a combination of “category”, “label”, “item_name”, and year using varying combos of “_” and “.” that we can use later with tidyverse functions.</p></li>
</ol>
<p>There is a separate discussion to be had on naming conventions for your variables, but the important idea to remember is that names convey important information and we want to use this information later on to make our life easier. By coding these variables using this information AND systematically using different separators we can accomplish this goal.</p>
<ol start="14" type="1">
<li><strong>meta</strong> Some datasets have a meta name, which essentially means a name that variable has across all waves to make it clear which variables are the same. They are not always useful as some data sets have meta names but no great way of extracting variables using them. But they’re still typically useful to include in your codebook regardless.</li>
</ol>
</section>
<section class="slide level2">

<p>These are just suggestions, but after working with many longitudinal datasets I will say all of them are horrible in some way. Doing this makes them less horrible. Is it some upfront work? Yes. Will it ultimately save you time? Yes. Also, if you know this prior to runnign a study you are making some sort of code book anyways, right, right? Might as well kill two birds with one stone.</p>
<p>You can make the codebook anyway you want, but the two best options are miscrosoft excel and google pages. Not because they are necessarily the best functioning but because they are relatively ubiquitous and are easy to share.</p>
</section>
<section class="slide level2">

<p>We will create a codebook but then bring the codebook into R via turning it into a csv. You can rethink the codebook as a way of coding prior to putting anything into R.</p>
<p>Below, I’ll load in the codebook we will use for this study, which will include all of the above columns.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb48"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb48-1"><a href="#cb48-1"></a>codebook <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/josh-jackson/longitudinal-2021/master/codebook.csv"</span>)</span>
<span id="cb48-2"><a href="#cb48-2"></a></span>
<span id="cb48-3"><a href="#cb48-3"></a>codebook <span class="ot">&lt;-</span> codebook <span class="sc">%&gt;%</span> </span>
<span id="cb48-4"><a href="#cb48-4"></a>    <span class="fu">mutate</span>(<span class="at">old_name =</span> <span class="fu">str_to_lower</span>(old_name))</span>
<span id="cb48-5"><a href="#cb48-5"></a></span>
<span id="cb48-6"><a href="#cb48-6"></a>codebook</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>    dataset old_name                            item_text
1             persnr             Never Changing Person ID
2               hhnr                         household ID
3     ppfad  gebjahr                        Year of Birth
4     ppfad      sex                                  Sex
5        vp  vp12501                      Thorough Worker
6        zp  zp12001                      Thorough Worker
7       bdp bdp15101                      Thorough Worker
8        vp  vp12502                    Am communicative 
9        zp  zp12002                    Am communicative 
10      bdp bdp15102                    Am communicative 
11       vp  vp12503 Am sometimes too coarse with others 
12       zp  zp12003 Am sometimes too coarse with others 
13      bdp bdp15103 Am sometimes too coarse with others 
14       vp  vp12504                         Am original 
15       zp  zp12004                         Am original 
16      bdp bdp15104                         Am original 
17       vp  vp12505                         Worry a lot 
18       zp  zp12005                         Worry a lot 
19      bdp bdp15105                         Worry a lot 
20       vp  vp12506                     Able to forgive 
21       zp  zp12006                     Able to forgive 
22      bdp bdp15106                     Able to forgive 
23       vp  vp12507                     Tend to be lazy 
24       zp  zp12007                     Tend to be lazy 
25      bdp bdp15107                     Tend to be lazy 
26       vp  vp12508                         Am sociable 
27       zp  zp12008                         Am sociable 
28      bdp bdp15108                         Am sociable 
29       vp  vp12509           Value artistic experiences
30       zp  zp12009           Value artistic experiences
31      bdp bdp15109           Value artistic experiences
32       vp  vp12510                     Somewhat nervous
33       zp  zp12010                     Somewhat nervous
34      bdp bdp15110                     Somewhat nervous
35       vp  vp12511          Carry out tasks efficiently
36       zp  zp12011          Carry out tasks efficiently
37      bdp bdp15111          Carry out tasks efficiently
38       vp  vp12512                             Reserved
39       zp  zp12012                             Reserved
40      bdp bdp15112                             Reserved
41       vp  vp12513                 Friendly with others
42       zp  zp12013                 Friendly with others
43      bdp bdp15113                 Friendly with others
44       vp  vp12514            Have a lively imagination
45       zp  zp12014            Have a lively imagination
46      bdp bdp15114            Have a lively imagination
47       vp  vp12515                Deal well with stress
48       zp  zp12015                Deal well with stress
49      bdp bdp15115                Deal well with stress
50       vp  vp15307                           Child Born
51       wp  wp14107                           Child Born
52       xp  xp14807                           Child Born
53       yp  yp15407                           Child Born
54       zp  zp15607                           Child Born
55      bap bap15907                           Child Born
56      bbp bbp15110                           Child Born
57      bcp bcp15010                           Child Born
58      bdp bdp15710                           Child Born
59      bep bep15010                           Child Born
60      bfp bfp17310                           Child Born
61       vp  vp15310                      Child Moved Out
62       wp  wp14110                      Child Moved Out
63       xp  xp14813                      Child Moved Out
64       yp  yp15413                      Child Moved Out
65       zp  zp15613                      Child Moved Out
66      bap bap15913                      Child Moved Out
67      bbp bbp15116                      Child Moved Out
68      bcp bcp15016                      Child Moved Out
69      bdp bdp15716                      Child Moved Out
70      bep bep15016                      Child Moved Out
71      bfp bfp17316                      Child Moved Out
72       vp  vp15316                             Divorced
73       wp  wp14116                             Divorced
74       xp  xp14819                             Divorced
75       yp  yp15419                             Divorced
76       zp  zp15619                             Divorced
77      bap bap15919                             Divorced
78      bbp bbp15122                             Divorced
79      bcp bcp15022                             Divorced
80      bdp bdp15722                             Divorced
81      bep bep15022                             Divorced
82      bfp bfp17322                             Divorced
83       vp  vp15322                          Father Died
84       wp  wp14122                          Father Died
85       xp  xp14825                          Father Died
86       yp  yp15425                          Father Died
87       zp  zp15625                          Father Died
88      bap bap15925                          Father Died
89      bbp bbp15128                          Father Died
90      bcp bcp15028                          Father Died
91      bdp bdp15728                          Father Died
92      bep bep15028                          Father Died
93      bfp bfp17328                          Father Died
94      bbp bbp15101      Got Together with a New Partner
95      bcp bcp15001      Got Together with a New Partner
96      bdp bdp15701      Got Together with a New Partner
97      bep bep15001      Got Together with a New Partner
98      bfp bfp17301      Got Together with a New Partner
99       vp  vp15301                              Married
100      wp  wp14101                              Married
101      xp  xp14801                              Married
102      yp  yp15401                              Married
103      zp  zp15601                              Married
104     bap bap15901                              Married
105     bbp bbp15104                              Married
106     bcp bcp15004                              Married
107     bdp bdp15704                              Married
108     bep bep15004                              Married
109     bfp bfp17304                              Married
110      vp  vp15325                          Mother Died
111      wp  wp14125                          Mother Died
112      xp  xp14828                          Mother Died
113      yp  yp15428                          Mother Died
114      zp  zp15628                          Mother Died
115     bap bap15928                          Mother Died
116     bbp bbp15131                          Mother Died
117     bcp bcp15031                          Mother Died
118     bdp bdp15731                          Mother Died
119     bep bep15031                          Mother Died
120     bfp bfp17331                          Mother Died
121      vp  vp15304                    Moved In Together
122      wp  wp14104                    Moved In Together
123      xp  xp14804                    Moved In Together
124      yp  yp15404                    Moved In Together
125      zp  zp15604                    Moved In Together
126     bap bap15904                    Moved In Together
127     bbp bbp15107                    Moved In Together
128     bcp bcp15007                    Moved In Together
129     bdp bdp15707                    Moved In Together
130     bep bep15007                    Moved In Together
131     bfp bfp17307                    Moved In Together
132      vp  vp15319                         Partner Died
133      wp  wp14119                         Partner Died
134      xp  xp14822                         Partner Died
135      yp  yp15422                         Partner Died
136      zp  zp15622                         Partner Died
137     bap bap15922                         Partner Died
138     bbp bbp15125                         Partner Died
139     bcp bcp15025                         Partner Died
140     bdp bdp15725                         Partner Died
141     bep bep15025                         Partner Died
142     bfp bfp17325                         Partner Died
143      vp  vp15313               Separated From Partner
144      wp  wp14113               Separated From Partner
145      xp  xp14816               Separated From Partner
146      yp  yp15416               Separated From Partner
147      zp  zp15616               Separated From Partner
148     bap bap15916               Separated From Partner
149     bbp bbp15119               Separated From Partner
150     bcp bcp15019               Separated From Partner
151     bdp bdp15719               Separated From Partner
152     bep bep15019               Separated From Partner
153     bfp bfp17319               Separated From Partner
                                                                                                                                                                                                                                                                                      scale
1                                                                                                                                                                                                                                                                                          
2                                                                                                                                                                                                                                                                                          
3                                                                                                                                                                                                                                                                                   numeric
4   \n1 [1] Male\n2 [2] Female\n-1 [-1] No Answer\n-2 [-2] Does not apply\n-3 [-3] Answer improbable\n-4 [-4] Inadmissible multiple response\n-5 [-5] Not included in this version of the questionnaire\n-6 [-6] Version of questionnaire with modified filtering\n56186 57630 24 0 0 0 0 0
5                                                                                                                                                                                                                                                                                          
6                                                                                                                                                                                                                                                                                          
7                                                                                                                                                                                                                                                                                          
8                                                                                                                                                                                                                                                                                          
9                                                                                                                                                                                                                                                                                          
10                                                                                                                                                                                                                                                                                         
11                                                                                                                                                                                                                                                                                         
12                                                                                                                                                                                                                                                                                         
13                                                                                                                                                                                                                                                                                         
14                                                                                                                                                                                                                                                                                         
15                                                                                                                                                                                                                                                                                         
16                                                                                                                                                                                                                                                                                         
17                                                                                                                                                                                                                                                                                         
18                                                                                                                                                                                                                                                                                         
19                                                                                                                                                                                                                                                                                         
20                                                                                                                                                                                                                                                                                         
21                                                                                                                                                                                                                                                                                         
22                                                                                                                                                                                                                                                                                         
23                                                                                                                                                                                                                                                                                         
24                                                                                                                                                                                                                                                                                         
25                                                                                                                                                                                                                                                                                         
26                                                                                                                                                                                                                                                                                         
27                                                                                                                                                                                                                                                                                         
28                                                                                                                                                                                                                                                                                         
29                                                                                                                                                                                                                                                                                         
30                                                                                                                                                                                                                                                                                         
31                                                                                                                                                                                                                                                                                         
32                                                                                                                                                                                                                                                                                         
33                                                                                                                                                                                                                                                                                         
34                                                                                                                                                                                                                                                                                         
35                                                                                                                                                                                                                                                                                         
36                                                                                                                                                                                                                                                                                         
37                                                                                                                                                                                                                                                                                         
38                                                                                                                                                                                                                                                                                         
39                                                                                                                                                                                                                                                                                         
40                                                                                                                                                                                                                                                                                         
41                                                                                                                                                                                                                                                                                         
42                                                                                                                                                                                                                                                                                         
43                                                                                                                                                                                                                                                                                         
44                                                                                                                                                                                                                                                                                         
45                                                                                                                                                                                                                                                                                         
46                                                                                                                                                                                                                                                                                         
47                                                                                                                                                                                                                                                                                         
48                                                                                                                                                                                                                                                                                         
49                                                                                                                                                                                                                                                                                         
50                                                                                                                                                                                                                                                                                         
51                                                                                                                                                                                                                                                                                         
52                                                                                                                                                                                                                                                                                         
53                                                                                                                                                                                                                                                                                         
54                                                                                                                                                                                                                                                                                         
55                                                                                                                                                                                                                                                                                         
56                                                                                                                                                                                                                                                                                         
57                                                                                                                                                                                                                                                                                         
58                                                                                                                                                                                                                                                                                         
59                                                                                                                                                                                                                                                                                         
60                                                                                                                                                                                                                                                                                         
61                                                                                                                                                                                                                                                                                         
62                                                                                                                                                                                                                                                                                         
63                                                                                                                                                                                                                                                                                         
64                                                                                                                                                                                                                                                                                         
65                                                                                                                                                                                                                                                                                         
66                                                                                                                                                                                                                                                                                         
67                                                                                                                                                                                                                                                                                         
68                                                                                                                                                                                                                                                                                         
69                                                                                                                                                                                                                                                                                         
70                                                                                                                                                                                                                                                                                         
71                                                                                                                                                                                                                                                                                         
72                                                                                                                                                                                                                                                                                         
73                                                                                                                                                                                                                                                                                         
74                                                                                                                                                                                                                                                                                         
75                                                                                                                                                                                                                                                                                         
76                                                                                                                                                                                                                                                                                         
77                                                                                                                                                                                                                                                                                         
78                                                                                                                                                                                                                                                                                         
79                                                                                                                                                                                                                                                                                         
80                                                                                                                                                                                                                                                                                         
81                                                                                                                                                                                                                                                                                         
82                                                                                                                                                                                                                                                                                         
83                                                                                                                                                                                                                                                                                         
84                                                                                                                                                                                                                                                                                         
85                                                                                                                                                                                                                                                                                         
86                                                                                                                                                                                                                                                                                         
87                                                                                                                                                                                                                                                                                         
88                                                                                                                                                                                                                                                                                         
89                                                                                                                                                                                                                                                                                         
90                                                                                                                                                                                                                                                                                         
91                                                                                                                                                                                                                                                                                         
92                                                                                                                                                                                                                                                                                         
93                                                                                                                                                                                                                                                                                         
94                                                                                                                                                                                                                                                                                         
95                                                                                                                                                                                                                                                                                         
96                                                                                                                                                                                                                                                                                         
97                                                                                                                                                                                                                                                                                         
98                                                                                                                                                                                                                                                                                         
99                                                                                                                                                                                                                                                                                         
100                                                                                                                                                                                                                                                                                        
101                                                                                                                                                                                                                                                                                        
102                                                                                                                                                                                                                                                                                        
103                                                                                                                                                                                                                                                                                        
104                                                                                                                                                                                                                                                                                        
105                                                                                                                                                                                                                                                                                        
106                                                                                                                                                                                                                                                                                        
107                                                                                                                                                                                                                                                                                        
108                                                                                                                                                                                                                                                                                        
109                                                                                                                                                                                                                                                                                        
110                                                                                                                                                                                                                                                                                        
111                                                                                                                                                                                                                                                                                        
112                                                                                                                                                                                                                                                                                        
113                                                                                                                                                                                                                                                                                        
114                                                                                                                                                                                                                                                                                        
115                                                                                                                                                                                                                                                                                        
116                                                                                                                                                                                                                                                                                        
117                                                                                                                                                                                                                                                                                        
118                                                                                                                                                                                                                                                                                        
119                                                                                                                                                                                                                                                                                        
120                                                                                                                                                                                                                                                                                        
121                                                                                                                                                                                                                                                                                        
122                                                                                                                                                                                                                                                                                        
123                                                                                                                                                                                                                                                                                        
124                                                                                                                                                                                                                                                                                        
125                                                                                                                                                                                                                                                                                        
126                                                                                                                                                                                                                                                                                        
127                                                                                                                                                                                                                                                                                        
128                                                                                                                                                                                                                                                                                        
129                                                                                                                                                                                                                                                                                        
130                                                                                                                                                                                                                                                                                        
131                                                                                                                                                                                                                                                                                        
132                                                                                                                                                                                                                                                                                        
133                                                                                                                                                                                                                                                                                        
134                                                                                                                                                                                                                                                                                        
135                                                                                                                                                                                                                                                                                        
136                                                                                                                                                                                                                                                                                        
137                                                                                                                                                                                                                                                                                        
138                                                                                                                                                                                                                                                                                        
139                                                                                                                                                                                                                                                                                        
140                                                                                                                                                                                                                                                                                        
141                                                                                                                                                                                                                                                                                        
142                                                                                                                                                                                                                                                                                        
143                                                                                                                                                                                                                                                                                        
144                                                                                                                                                                                                                                                                                        
145                                                                                                                                                                                                                                                                                        
146                                                                                                                                                                                                                                                                                        
147                                                                                                                                                                                                                                                                                        
148                                                                                                                                                                                                                                                                                        
149                                                                                                                                                                                                                                                                                        
150                                                                                                                                                                                                                                                                                        
151                                                                                                                                                                                                                                                                                        
152                                                                                                                                                                                                                                                                                        
153                                                                                                                                                                                                                                                                                        
       category label  item_name year                   new_name reverse mini
1    Procedural              SID    0            Procedural__SID       1   NA
2    Procedural        household    0      Procedural__household       1   NA
3   Demographic              DOB    0           Demographic__DOB       1   NA
4   Demographic              Sex    0           Demographic__Sex       1   NA
5         Big 5     C   thorough 2005     Big 5__C_thorough.2005       1    1
6         Big 5     C   thorough 2009     Big 5__C_thorough.2009       1    1
7         Big 5     C   thorough 2013     Big 5__C_thorough.2013       1    1
8         Big 5     E   communic 2005     Big 5__E_communic.2005       1    1
9         Big 5     E   communic 2009     Big 5__E_communic.2009       1    1
10        Big 5     E   communic 2013     Big 5__E_communic.2013       1    1
11        Big 5     A     coarse 2005       Big 5__A_coarse.2005      -1    1
12        Big 5     A     coarse 2009       Big 5__A_coarse.2009      -1    1
13        Big 5     A     coarse 2013       Big 5__A_coarse.2013      -1    1
14        Big 5     O   original 2005     Big 5__O_original.2005       1    1
15        Big 5     O   original 2009     Big 5__O_original.2009       1    1
16        Big 5     O   original 2013     Big 5__O_original.2013       1    1
17        Big 5     N      worry 2005        Big 5__N_worry.2005      -1    1
18        Big 5     N      worry 2009        Big 5__N_worry.2009      -1    1
19        Big 5     N      worry 2013        Big 5__N_worry.2013      -1    1
20        Big 5     A    forgive 2005      Big 5__A_forgive.2005       1    1
21        Big 5     A    forgive 2009      Big 5__A_forgive.2009       1    1
22        Big 5     A    forgive 2013      Big 5__A_forgive.2013       1    1
23        Big 5     C       lazy 2005         Big 5__C_lazy.2005      -1    1
24        Big 5     C       lazy 2009         Big 5__C_lazy.2009      -1    1
25        Big 5     C       lazy 2013         Big 5__C_lazy.2013      -1    1
26        Big 5     E   sociable 2005     Big 5__E_sociable.2005       1    1
27        Big 5     E   sociable 2009     Big 5__E_sociable.2009       1    1
28        Big 5     E   sociable 2013     Big 5__E_sociable.2013       1    1
29        Big 5     O   artistic 2005     Big 5__O_artistic.2005       1    1
30        Big 5     O   artistic 2009     Big 5__O_artistic.2009       1    1
31        Big 5     O   artistic 2013     Big 5__O_artistic.2013       1    1
32        Big 5     N    nervous 2005      Big 5__N_nervous.2005      -1    1
33        Big 5     N    nervous 2009      Big 5__N_nervous.2009      -1    1
34        Big 5     N    nervous 2013      Big 5__N_nervous.2013      -1    1
35        Big 5     C  efficient 2005    Big 5__C_efficient.2005       1    1
36        Big 5     C  efficient 2009    Big 5__C_efficient.2009       1    1
37        Big 5     C  efficient 2013    Big 5__C_efficient.2013       1    1
38        Big 5     E   reserved 2005     Big 5__E_reserved.2005      -1    1
39        Big 5     E   reserved 2009     Big 5__E_reserved.2009      -1    1
40        Big 5     E   reserved 2013     Big 5__E_reserved.2013      -1    1
41        Big 5     A   friendly 2005     Big 5__A_friendly.2005       1    1
42        Big 5     A   friendly 2009     Big 5__A_friendly.2009       1    1
43        Big 5     A   friendly 2013     Big 5__A_friendly.2013       1    1
44        Big 5     O     imagin 2005       Big 5__O_imagin.2005       1    1
45        Big 5     O     imagin 2009       Big 5__O_imagin.2009       1    1
46        Big 5     O     imagin 2013       Big 5__O_imagin.2013       1    1
47        Big 5     N dealStress 2005   Big 5__N_dealStress.2005       1    1
48        Big 5     N dealStress 2009   Big 5__N_dealStress.2009       1    1
49        Big 5     N dealStress 2013   Big 5__N_dealStress.2013       1    1
50   Life Event         ChldBrth 2005  Life Event__ChldBrth.2005       1   NA
51   Life Event         ChldBrth 2006  Life Event__ChldBrth.2006       1   NA
52   Life Event         ChldBrth 2007  Life Event__ChldBrth.2007       1   NA
53   Life Event         ChldBrth 2008  Life Event__ChldBrth.2008       1   NA
54   Life Event         ChldBrth 2009  Life Event__ChldBrth.2009       1   NA
55   Life Event         ChldBrth 2010  Life Event__ChldBrth.2010       1   NA
56   Life Event         ChldBrth 2011  Life Event__ChldBrth.2011       1   NA
57   Life Event         ChldBrth 2012  Life Event__ChldBrth.2012       1   NA
58   Life Event         ChldBrth 2013  Life Event__ChldBrth.2013       1   NA
59   Life Event         ChldBrth 2014  Life Event__ChldBrth.2014       1   NA
60   Life Event         ChldBrth 2015  Life Event__ChldBrth.2015       1   NA
61   Life Event        ChldMvOut 2005 Life Event__ChldMvOut.2005       1   NA
62   Life Event        ChldMvOut 2006 Life Event__ChldMvOut.2006       1   NA
63   Life Event        ChldMvOut 2007 Life Event__ChldMvOut.2007       1   NA
64   Life Event        ChldMvOut 2008 Life Event__ChldMvOut.2008       1   NA
65   Life Event        ChldMvOut 2009 Life Event__ChldMvOut.2009       1   NA
66   Life Event        ChldMvOut 2010 Life Event__ChldMvOut.2010       1   NA
67   Life Event        ChldMvOut 2011 Life Event__ChldMvOut.2011       1   NA
68   Life Event        ChldMvOut 2012 Life Event__ChldMvOut.2012       1   NA
69   Life Event        ChldMvOut 2013 Life Event__ChldMvOut.2013       1   NA
70   Life Event        ChldMvOut 2014 Life Event__ChldMvOut.2014       1   NA
71   Life Event        ChldMvOut 2015 Life Event__ChldMvOut.2015       1   NA
72   Life Event          Divorce 2005   Life Event__Divorce.2005       1   NA
73   Life Event          Divorce 2006   Life Event__Divorce.2006       1   NA
74   Life Event          Divorce 2007   Life Event__Divorce.2007       1   NA
75   Life Event          Divorce 2008   Life Event__Divorce.2008       1   NA
76   Life Event          Divorce 2009   Life Event__Divorce.2009       1   NA
77   Life Event          Divorce 2010   Life Event__Divorce.2010       1   NA
78   Life Event          Divorce 2011   Life Event__Divorce.2011       1   NA
79   Life Event          Divorce 2012   Life Event__Divorce.2012       1   NA
80   Life Event          Divorce 2013   Life Event__Divorce.2013       1   NA
81   Life Event          Divorce 2014   Life Event__Divorce.2014       1   NA
82   Life Event          Divorce 2015   Life Event__Divorce.2015       1   NA
83   Life Event          DadDied 2005   Life Event__DadDied.2005       1   NA
84   Life Event          DadDied 2006   Life Event__DadDied.2006       1   NA
85   Life Event          DadDied 2007   Life Event__DadDied.2007       1   NA
86   Life Event          DadDied 2008   Life Event__DadDied.2008       1   NA
87   Life Event          DadDied 2009   Life Event__DadDied.2009       1   NA
88   Life Event          DadDied 2010   Life Event__DadDied.2010       1   NA
89   Life Event          DadDied 2011   Life Event__DadDied.2011       1   NA
90   Life Event          DadDied 2012   Life Event__DadDied.2012       1   NA
91   Life Event          DadDied 2013   Life Event__DadDied.2013       1   NA
92   Life Event          DadDied 2014   Life Event__DadDied.2014       1   NA
93   Life Event          DadDied 2015   Life Event__DadDied.2015       1   NA
94   Life Event          NewPart 2011   Life Event__NewPart.2011       1   NA
95   Life Event          NewPart 2012   Life Event__NewPart.2012       1   NA
96   Life Event          NewPart 2013   Life Event__NewPart.2013       1   NA
97   Life Event          NewPart 2014   Life Event__NewPart.2014       1   NA
98   Life Event          NewPart 2015   Life Event__NewPart.2015       1   NA
99   Life Event          Married 2005   Life Event__Married.2005       1   NA
100  Life Event          Married 2006   Life Event__Married.2006       1   NA
101  Life Event          Married 2007   Life Event__Married.2007       1   NA
102  Life Event          Married 2008   Life Event__Married.2008       1   NA
103  Life Event          Married 2009   Life Event__Married.2009       1   NA
104  Life Event          Married 2010   Life Event__Married.2010       1   NA
105  Life Event          Married 2011   Life Event__Married.2011       1   NA
106  Life Event          Married 2012   Life Event__Married.2012       1   NA
107  Life Event          Married 2013   Life Event__Married.2013       1   NA
108  Life Event          Married 2014   Life Event__Married.2014       1   NA
109  Life Event          Married 2015   Life Event__Married.2015       1   NA
110  Life Event          MomDied 2005   Life Event__MomDied.2005       1   NA
111  Life Event          MomDied 2006   Life Event__MomDied.2006       1   NA
112  Life Event          MomDied 2007   Life Event__MomDied.2007       1   NA
113  Life Event          MomDied 2008   Life Event__MomDied.2008       1   NA
114  Life Event          MomDied 2009   Life Event__MomDied.2009       1   NA
115  Life Event          MomDied 2010   Life Event__MomDied.2010       1   NA
116  Life Event          MomDied 2011   Life Event__MomDied.2011       1   NA
117  Life Event          MomDied 2012   Life Event__MomDied.2012       1   NA
118  Life Event          MomDied 2013   Life Event__MomDied.2013       1   NA
119  Life Event          MomDied 2014   Life Event__MomDied.2014       1   NA
120  Life Event          MomDied 2015   Life Event__MomDied.2015       1   NA
121  Life Event           MoveIn 2005    Life Event__MoveIn.2005       1   NA
122  Life Event           MoveIn 2006    Life Event__MoveIn.2006       1   NA
123  Life Event           MoveIn 2007    Life Event__MoveIn.2007       1   NA
124  Life Event           MoveIn 2008    Life Event__MoveIn.2008       1   NA
125  Life Event           MoveIn 2009    Life Event__MoveIn.2009       1   NA
126  Life Event           MoveIn 2010    Life Event__MoveIn.2010       1   NA
127  Life Event           MoveIn 2011    Life Event__MoveIn.2011       1   NA
128  Life Event           MoveIn 2012    Life Event__MoveIn.2012       1   NA
129  Life Event           MoveIn 2013    Life Event__MoveIn.2013       1   NA
130  Life Event           MoveIn 2014    Life Event__MoveIn.2014       1   NA
131  Life Event           MoveIn 2015    Life Event__MoveIn.2015       1   NA
132  Life Event         PartDied 2005  Life Event__PartDied.2005       1   NA
133  Life Event         PartDied 2006  Life Event__PartDied.2006       1   NA
134  Life Event         PartDied 2007  Life Event__PartDied.2007       1   NA
135  Life Event         PartDied 2008  Life Event__PartDied.2008       1   NA
136  Life Event         PartDied 2009  Life Event__PartDied.2009       1   NA
137  Life Event         PartDied 2010  Life Event__PartDied.2010       1   NA
138  Life Event         PartDied 2011  Life Event__PartDied.2011       1   NA
139  Life Event         PartDied 2012  Life Event__PartDied.2012       1   NA
140  Life Event         PartDied 2013  Life Event__PartDied.2013       1   NA
141  Life Event         PartDied 2014  Life Event__PartDied.2014       1   NA
142  Life Event         PartDied 2015  Life Event__PartDied.2015       1   NA
143  Life Event          SepPart 2005   Life Event__SepPart.2005       1   NA
144  Life Event          SepPart 2006   Life Event__SepPart.2006       1   NA
145  Life Event          SepPart 2007   Life Event__SepPart.2007       1   NA
146  Life Event          SepPart 2008   Life Event__SepPart.2008       1   NA
147  Life Event          SepPart 2009   Life Event__SepPart.2009       1   NA
148  Life Event          SepPart 2010   Life Event__SepPart.2010       1   NA
149  Life Event          SepPart 2011   Life Event__SepPart.2011       1   NA
150  Life Event          SepPart 2012   Life Event__SepPart.2012       1   NA
151  Life Event          SepPart 2013   Life Event__SepPart.2013       1   NA
152  Life Event          SepPart 2014   Life Event__SepPart.2014       1   NA
153  Life Event          SepPart 2015   Life Event__SepPart.2015       1   NA
    maxi                                  recode
1     NA                                        
2     NA                                        
3     NA                                        
4     NA                                        
5      7                                        
6      7                                        
7      7                                        
8      7                                        
9      7                                        
10     7                                        
11     7                                        
12     7                                        
13     7                                        
14     7                                        
15     7                                        
16     7                                        
17     7                                        
18     7                                        
19     7                                        
20     7                                        
21     7                                        
22     7                                        
23     7                                        
24     7                                        
25     7                                        
26     7                                        
27     7                                        
28     7                                        
29     7                                        
30     7                                        
31     7                                        
32     7                                        
33     7                                        
34     7                                        
35     7                                        
36     7                                        
37     7                                        
38     7                                        
39     7                                        
40     7                                        
41     7                                        
42     7                                        
43     7                                        
44     7                                        
45     7                                        
46     7                                        
47     7                                        
48     7                                        
49     7                                        
50    NA 1 = experienced; 0 = did not experience
51    NA 1 = experienced; 0 = did not experience
52    NA 1 = experienced; 0 = did not experience
53    NA 1 = experienced; 0 = did not experience
54    NA 1 = experienced; 0 = did not experience
55    NA 1 = experienced; 0 = did not experience
56    NA 1 = experienced; 0 = did not experience
57    NA 1 = experienced; 0 = did not experience
58    NA 1 = experienced; 0 = did not experience
59    NA 1 = experienced; 0 = did not experience
60    NA 1 = experienced; 0 = did not experience
61    NA 1 = experienced; 0 = did not experience
62    NA 1 = experienced; 0 = did not experience
63    NA 1 = experienced; 0 = did not experience
64    NA 1 = experienced; 0 = did not experience
65    NA 1 = experienced; 0 = did not experience
66    NA 1 = experienced; 0 = did not experience
67    NA 1 = experienced; 0 = did not experience
68    NA 1 = experienced; 0 = did not experience
69    NA 1 = experienced; 0 = did not experience
70    NA 1 = experienced; 0 = did not experience
71    NA 1 = experienced; 0 = did not experience
72    NA 1 = experienced; 0 = did not experience
73    NA 1 = experienced; 0 = did not experience
74    NA 1 = experienced; 0 = did not experience
75    NA 1 = experienced; 0 = did not experience
76    NA 1 = experienced; 0 = did not experience
77    NA 1 = experienced; 0 = did not experience
78    NA 1 = experienced; 0 = did not experience
79    NA 1 = experienced; 0 = did not experience
80    NA 1 = experienced; 0 = did not experience
81    NA 1 = experienced; 0 = did not experience
82    NA 1 = experienced; 0 = did not experience
83    NA 1 = experienced; 0 = did not experience
84    NA 1 = experienced; 0 = did not experience
85    NA 1 = experienced; 0 = did not experience
86    NA 1 = experienced; 0 = did not experience
87    NA 1 = experienced; 0 = did not experience
88    NA 1 = experienced; 0 = did not experience
89    NA 1 = experienced; 0 = did not experience
90    NA 1 = experienced; 0 = did not experience
91    NA 1 = experienced; 0 = did not experience
92    NA 1 = experienced; 0 = did not experience
93    NA 1 = experienced; 0 = did not experience
94    NA 1 = experienced; 0 = did not experience
95    NA 1 = experienced; 0 = did not experience
96    NA 1 = experienced; 0 = did not experience
97    NA 1 = experienced; 0 = did not experience
98    NA 1 = experienced; 0 = did not experience
99    NA 1 = experienced; 0 = did not experience
100   NA 1 = experienced; 0 = did not experience
101   NA 1 = experienced; 0 = did not experience
102   NA 1 = experienced; 0 = did not experience
103   NA 1 = experienced; 0 = did not experience
104   NA 1 = experienced; 0 = did not experience
105   NA 1 = experienced; 0 = did not experience
106   NA 1 = experienced; 0 = did not experience
107   NA 1 = experienced; 0 = did not experience
108   NA 1 = experienced; 0 = did not experience
109   NA 1 = experienced; 0 = did not experience
110   NA 1 = experienced; 0 = did not experience
111   NA 1 = experienced; 0 = did not experience
112   NA 1 = experienced; 0 = did not experience
113   NA 1 = experienced; 0 = did not experience
114   NA 1 = experienced; 0 = did not experience
115   NA 1 = experienced; 0 = did not experience
116   NA 1 = experienced; 0 = did not experience
117   NA 1 = experienced; 0 = did not experience
118   NA 1 = experienced; 0 = did not experience
119   NA 1 = experienced; 0 = did not experience
120   NA 1 = experienced; 0 = did not experience
121   NA 1 = experienced; 0 = did not experience
122   NA 1 = experienced; 0 = did not experience
123   NA 1 = experienced; 0 = did not experience
124   NA 1 = experienced; 0 = did not experience
125   NA 1 = experienced; 0 = did not experience
126   NA 1 = experienced; 0 = did not experience
127   NA 1 = experienced; 0 = did not experience
128   NA 1 = experienced; 0 = did not experience
129   NA 1 = experienced; 0 = did not experience
130   NA 1 = experienced; 0 = did not experience
131   NA 1 = experienced; 0 = did not experience
132   NA 1 = experienced; 0 = did not experience
133   NA 1 = experienced; 0 = did not experience
134   NA 1 = experienced; 0 = did not experience
135   NA 1 = experienced; 0 = did not experience
136   NA 1 = experienced; 0 = did not experience
137   NA 1 = experienced; 0 = did not experience
138   NA 1 = experienced; 0 = did not experience
139   NA 1 = experienced; 0 = did not experience
140   NA 1 = experienced; 0 = did not experience
141   NA 1 = experienced; 0 = did not experience
142   NA 1 = experienced; 0 = did not experience
143   NA 1 = experienced; 0 = did not experience
144   NA 1 = experienced; 0 = did not experience
145   NA 1 = experienced; 0 = did not experience
146   NA 1 = experienced; 0 = did not experience
147   NA 1 = experienced; 0 = did not experience
148   NA 1 = experienced; 0 = did not experience
149   NA 1 = experienced; 0 = did not experience
150   NA 1 = experienced; 0 = did not experience
151   NA 1 = experienced; 0 = did not experience
152   NA 1 = experienced; 0 = did not experience
153   NA 1 = experienced; 0 = did not experience</code></pre>
</div>
</div>
</section>
<section id="data-1" class="slide level2">
<h2>Data</h2>
<p>First, we need to load in the data. We’re going to use three waves of data from the German Socioeconomic Panel We’re going to use more recent data from three waves of personality data collected between 2005 and 2013.</p>
<p>This code below shows how I would read in and rename a wide-format data set using the codebook I created.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb50"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb50-1"><a href="#cb50-1"></a>old.names <span class="ot">&lt;-</span> codebook<span class="sc">$</span>old_name <span class="co"># get old column names</span></span>
<span id="cb50-2"><a href="#cb50-2"></a>new.names <span class="ot">&lt;-</span> codebook<span class="sc">$</span>new_name <span class="co"># get new column names</span></span>
<span id="cb50-3"><a href="#cb50-3"></a></span>
<span id="cb50-4"><a href="#cb50-4"></a>soep <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">"https://raw.githubusercontent.com/josh-jackson/longitudinal-2021/master/soepdata.csv"</span>)</span>
<span id="cb50-5"><a href="#cb50-5"></a></span>
<span id="cb50-6"><a href="#cb50-6"></a> soep <span class="ot">&lt;-</span>  soep <span class="sc">%&gt;%</span> <span class="co"># read in data</span></span>
<span id="cb50-7"><a href="#cb50-7"></a>  dplyr<span class="sc">::</span><span class="fu">select</span>(old.names) <span class="sc">%&gt;%</span> <span class="co"># select the columns from our codebook</span></span>
<span id="cb50-8"><a href="#cb50-8"></a>  <span class="fu">setNames</span>(new.names) <span class="co"># rename columns with our new names</span></span>
<span id="cb50-9"><a href="#cb50-9"></a>soep</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>  Procedural__SID Procedural__household Demographic__DOB Demographic__Sex
1             901                    94             1951                2
2            1202                   124             1913                2
3            2301                   230             1946                1
4            2302                   230             1946                2
5            2304                   230             1978                1
6            2305                   230             1946                2
  Big 5__C_thorough.2005 Big 5__C_thorough.2009 Big 5__C_thorough.2013
1                      6                     -1                      7
2                      7                     NA                     NA
3                      7                      6                      6
4                      6                      7                      7
5                      5                     NA                     NA
6                     NA                     NA                     NA
  Big 5__E_communic.2005 Big 5__E_communic.2009 Big 5__E_communic.2013
1                      4                      4                      5
2                      6                     NA                     NA
3                      6                      4                      5
4                      5                      5                      5
5                      7                     NA                     NA
6                     NA                     NA                     NA
  Big 5__A_coarse.2005 Big 5__A_coarse.2009 Big 5__A_coarse.2013
1                    4                    3                    4
2                    1                   NA                   NA
3                    5                    4                    2
4                    6                    5                    5
5                    4                   NA                   NA
6                   NA                   NA                   NA
  Big 5__O_original.2005 Big 5__O_original.2009 Big 5__O_original.2013
1                      5                      4                      3
2                      6                     NA                     NA
3                      5                      5                      5
4                      5                      5                      6
5                      7                     NA                     NA
6                     NA                     NA                     NA
  Big 5__N_worry.2005 Big 5__N_worry.2009 Big 5__N_worry.2013
1                   6                   6                   6
2                   6                  NA                  NA
3                   4                   6                   3
4                   3                   3                   3
5                   4                  NA                  NA
6                  NA                  NA                  NA
  Big 5__A_forgive.2005 Big 5__A_forgive.2009 Big 5__A_forgive.2013
1                     5                     5                     4
2                    -1                    NA                    NA
3                     6                     7                     6
4                     3                     4                     3
5                     7                    NA                    NA
6                    NA                    NA                    NA
  Big 5__C_lazy.2005 Big 5__C_lazy.2009 Big 5__C_lazy.2013
1                  4                  4                  3
2                  1                 NA                 NA
3                  4                  2                  4
4                  2                  4                  2
5                  5                 NA                 NA
6                 NA                 NA                 NA
  Big 5__E_sociable.2005 Big 5__E_sociable.2009 Big 5__E_sociable.2013
1                      5                      5                      4
2                      7                     NA                     NA
3                      3                      4                      6
4                      5                      5                      4
5                      4                     NA                     NA
6                     NA                     NA                     NA
  Big 5__O_artistic.2005 Big 5__O_artistic.2009 Big 5__O_artistic.2013
1                      3                      4                      3
2                      5                     NA                     NA
3                      5                      6                      5
4                      7                      5                      7
5                      6                     NA                     NA
6                     NA                     NA                     NA
  Big 5__N_nervous.2005 Big 5__N_nervous.2009 Big 5__N_nervous.2013
1                     3                     5                     2
2                     6                    NA                    NA
3                     5                     5                     2
4                     2                     3                     2
5                     5                    NA                    NA
6                    NA                    NA                    NA
  Big 5__C_efficient.2005 Big 5__C_efficient.2009 Big 5__C_efficient.2013
1                       5                       6                       5
2                       4                      NA                      NA
3                       6                       7                       6
4                       6                       7                       6
5                       5                      NA                      NA
6                      NA                      NA                      NA
  Big 5__E_reserved.2005 Big 5__E_reserved.2009 Big 5__E_reserved.2013
1                      6                      6                      6
2                      7                     NA                     NA
3                      6                      4                      5
4                      4                      6                      5
5                      4                     NA                     NA
6                     NA                     NA                     NA
  Big 5__A_friendly.2005 Big 5__A_friendly.2009 Big 5__A_friendly.2013
1                      5                      5                      6
2                      7                     NA                     NA
3                      6                      6                      6
4                      5                      3                      2
5                      6                     NA                     NA
6                     NA                     NA                     NA
  Big 5__O_imagin.2005 Big 5__O_imagin.2009 Big 5__O_imagin.2013
1                    4                    4                    4
2                    6                   NA                   NA
3                    3                    4                    5
4                    3                    3                    4
5                    7                   NA                   NA
6                   NA                   NA                   NA
  Big 5__N_dealStress.2005 Big 5__N_dealStress.2009 Big 5__N_dealStress.2013
1                        3                        3                        5
2                        3                       NA                       NA
3                        4                        5                        6
4                        6                        3                        4
5                        6                       NA                       NA
6                       NA                       NA                       NA
  Life Event__ChldBrth.2005 Life Event__ChldBrth.2006 Life Event__ChldBrth.2007
1                        -2                        -2                        -2
2                        -2                        -2                        NA
3                        -2                        -2                        -2
4                        -2                        -2                        -2
5                        -2                        -2                        NA
6                        NA                        NA                        -2
  Life Event__ChldBrth.2008 Life Event__ChldBrth.2009 Life Event__ChldBrth.2010
1                        -2                        -2                        -2
2                        NA                        NA                        NA
3                        -2                        -2                        -2
4                        -2                        -2                        -2
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__ChldBrth.2011 Life Event__ChldBrth.2012 Life Event__ChldBrth.2013
1                        -2                        -2                        -2
2                        NA                        NA                        NA
3                        -2                        -2                        -2
4                        -2                        -2                        -2
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__ChldBrth.2014 Life Event__ChldBrth.2015
1                        -2                        -2
2                        NA                        NA
3                        -2                        -2
4                        -2                        -2
5                        NA                        NA
6                        NA                        NA
  Life Event__ChldMvOut.2005 Life Event__ChldMvOut.2006
1                         -2                         -2
2                         -2                         -2
3                         -2                         -2
4                         -2                         -2
5                         -2                         -2
6                         NA                         NA
  Life Event__ChldMvOut.2007 Life Event__ChldMvOut.2008
1                         -2                         -2
2                         NA                         NA
3                         -2                         -2
4                         -2                         -2
5                         NA                         NA
6                         -2                         NA
  Life Event__ChldMvOut.2009 Life Event__ChldMvOut.2010
1                         -2                         -2
2                         NA                         NA
3                         -2                         -2
4                         -2                         -2
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2011 Life Event__ChldMvOut.2012
1                         -2                         -2
2                         NA                         NA
3                         -2                         -2
4                         -2                         -2
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2013 Life Event__ChldMvOut.2014
1                         -2                         -2
2                         NA                         NA
3                         -2                         -2
4                         -2                         -2
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2015 Life Event__Divorce.2005 Life Event__Divorce.2006
1                         -2                       -2                       -2
2                         NA                       -2                       -2
3                         -2                       -2                       -2
4                         -2                       -2                       -2
5                         NA                       -2                       -2
6                         NA                       NA                       NA
  Life Event__Divorce.2007 Life Event__Divorce.2008 Life Event__Divorce.2009
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       -2                       NA                       NA
  Life Event__Divorce.2010 Life Event__Divorce.2011 Life Event__Divorce.2012
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Divorce.2013 Life Event__Divorce.2014 Life Event__Divorce.2015
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2005 Life Event__DadDied.2006 Life Event__DadDied.2007
1                       -2                       -2                       -2
2                       -2                       -2                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       -2                       -2                       NA
6                       NA                       NA                       -2
  Life Event__DadDied.2008 Life Event__DadDied.2009 Life Event__DadDied.2010
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2011 Life Event__DadDied.2012 Life Event__DadDied.2013
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2014 Life Event__DadDied.2015 Life Event__NewPart.2011
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__NewPart.2012 Life Event__NewPart.2013 Life Event__NewPart.2014
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__NewPart.2015 Life Event__Married.2005 Life Event__Married.2006
1                       -2                       -2                       -2
2                       NA                       -2                       -2
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       -2                       -2
6                       NA                       NA                       NA
  Life Event__Married.2007 Life Event__Married.2008 Life Event__Married.2009
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       -2                       NA                       NA
  Life Event__Married.2010 Life Event__Married.2011 Life Event__Married.2012
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Married.2013 Life Event__Married.2014 Life Event__Married.2015
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2005 Life Event__MomDied.2006 Life Event__MomDied.2007
1                       -2                       -2                       -2
2                       -2                       -2                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       -2                       -2                       NA
6                       NA                       NA                       -2
  Life Event__MomDied.2008 Life Event__MomDied.2009 Life Event__MomDied.2010
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2011 Life Event__MomDied.2012 Life Event__MomDied.2013
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2014 Life Event__MomDied.2015 Life Event__MoveIn.2005
1                        1                        1                      -2
2                       NA                       NA                      -2
3                       -2                       -2                      -2
4                       -2                       -2                      -2
5                       NA                       NA                      -2
6                       NA                       NA                      NA
  Life Event__MoveIn.2006 Life Event__MoveIn.2007 Life Event__MoveIn.2008
1                      -2                      -2                      -2
2                      -2                      NA                      NA
3                      -2                       1                      -2
4                      -2                      -2                      -2
5                      -2                      NA                      NA
6                      NA                       1                      NA
  Life Event__MoveIn.2009 Life Event__MoveIn.2010 Life Event__MoveIn.2011
1                      -2                      -2                      -2
2                      NA                      NA                      NA
3                      -2                      -2                      -2
4                      -2                      -2                      -2
5                      NA                      NA                      NA
6                      NA                      NA                      NA
  Life Event__MoveIn.2012 Life Event__MoveIn.2013 Life Event__MoveIn.2014
1                      -2                      -2                      -2
2                      NA                      NA                      NA
3                      -2                      -2                      -2
4                      -2                      -2                      -2
5                      NA                      NA                      NA
6                      NA                      NA                      NA
  Life Event__MoveIn.2015 Life Event__PartDied.2005 Life Event__PartDied.2006
1                      -2                        -2                        -2
2                      NA                        -2                        -2
3                      -2                        -2                        -2
4                      -2                        -2                        -2
5                      NA                        -2                        -2
6                      NA                        NA                        NA
  Life Event__PartDied.2007 Life Event__PartDied.2008 Life Event__PartDied.2009
1                        -2                        -2                        -2
2                        NA                        NA                        NA
3                        -2                         1                         1
4                        -2                        -2                        -2
5                        NA                        NA                        NA
6                        -2                        NA                        NA
  Life Event__PartDied.2010 Life Event__PartDied.2011 Life Event__PartDied.2012
1                        -2                        -2                        -2
2                        NA                        NA                        NA
3                        -2                        -2                        -2
4                        -2                        -2                        -2
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__PartDied.2013 Life Event__PartDied.2014 Life Event__PartDied.2015
1                        -2                        -2                        -2
2                        NA                        NA                        NA
3                        -2                        -2                        -2
4                        -2                        -2                        -2
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__SepPart.2005 Life Event__SepPart.2006 Life Event__SepPart.2007
1                       -2                       -2                       -2
2                       -2                       -2                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       -2                       -2                       NA
6                       NA                       NA                       -2
  Life Event__SepPart.2008 Life Event__SepPart.2009 Life Event__SepPart.2010
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__SepPart.2011 Life Event__SepPart.2012 Life Event__SepPart.2013
1                       -2                       -2                       -2
2                       NA                       NA                       NA
3                       -2                       -2                       -2
4                       -2                       -2                       -2
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__SepPart.2014 Life Event__SepPart.2015
1                       -2                       -2
2                       NA                       NA
3                       -2                       -2
4                       -2                       -2
5                       NA                       NA
6                       NA                       NA</code></pre>
</div>
</div>
<p>actual dataset is almost 30k rows</p>
</section>
<section id="recode-variables" class="slide level2">
<h2>Recode Variables</h2>
<p>Many of the data we work with have observations that are missing for a variety of reasons. In <code>R</code>, we treat missing values as <code>NA</code>, but many other programs from which you may be importing your data may use other codes (e.g.&nbsp;999, -999, etc.). Large panel studies tend to use small negative values to indicate different types of missingness. This is why it is important to note down the scale in your codebook. That way you can check which values may need to be recoded to explicit <code>NA</code> values.</p>
</section>
<section class="slide level2">

<p>In the GSOEP, <code>-1</code> to <code>-7</code> indicate various types of missing values, so we will recode these to <code>NA</code>. To do this, we will use <code>mapvalues()</code>, from the <code>plyr</code> package.</p>
<p>Below we are taking the dataset soep and saying we are going to mutate all of our variables, making sure they are all numeric (as the code expects numeric), then we get to the mapvalues function</p>
</section>
<section class="slide level2">

<p><code>mapvalues</code> takes 3 key arguments (1) the variable you are recoding. Below that is indicated by “.” which is shorthand for the data that was piped in.</p>
<ol start="2" type="1">
<li><p>a vector of initial values <code>from</code> which you want to change. Here we indicae a sequence of values from -1 to -7, which correspond to the missing values used by GSOEP. Other datasets may use -999, for example.</p></li>
<li><p>recode your values in (2) <code>to</code> new values in the same order as the old values. Here we have NA (the way R treats missing data) repeated 7 times (to correspond to -1, -2,…)</p></li>
</ol>
<p>It is also helpful to turn off warnings if some levels are not in your data (<code>warn_missing = F</code>).</p>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb52"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb52-1"><a href="#cb52-1"></a>soep <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span></span>
<span id="cb52-2"><a href="#cb52-2"></a>  <span class="fu">mutate_all</span>(<span class="sc">~</span><span class="fu">as.numeric</span>(<span class="fu">mapvalues</span>(., <span class="at">from =</span> <span class="fu">seq</span>(<span class="sc">-</span><span class="dv">1</span>,<span class="sc">-</span><span class="dv">7</span>, <span class="sc">-</span><span class="dv">1</span>), <span class="at">to =</span> <span class="fu">rep</span>(<span class="cn">NA</span>, <span class="dv">7</span>), <span class="at">warn_missing =</span> F)))</span>
<span id="cb52-3"><a href="#cb52-3"></a><span class="fu">head</span>(soep)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>  Procedural__SID Procedural__household Demographic__DOB Demographic__Sex
1             901                    94             1951                2
2            1202                   124             1913                2
3            2301                   230             1946                1
4            2302                   230             1946                2
5            2304                   230             1978                1
6            2305                   230             1946                2
  Big 5__C_thorough.2005 Big 5__C_thorough.2009 Big 5__C_thorough.2013
1                      6                     NA                      7
2                      7                     NA                     NA
3                      7                      6                      6
4                      6                      7                      7
5                      5                     NA                     NA
6                     NA                     NA                     NA
  Big 5__E_communic.2005 Big 5__E_communic.2009 Big 5__E_communic.2013
1                      4                      4                      5
2                      6                     NA                     NA
3                      6                      4                      5
4                      5                      5                      5
5                      7                     NA                     NA
6                     NA                     NA                     NA
  Big 5__A_coarse.2005 Big 5__A_coarse.2009 Big 5__A_coarse.2013
1                    4                    3                    4
2                    1                   NA                   NA
3                    5                    4                    2
4                    6                    5                    5
5                    4                   NA                   NA
6                   NA                   NA                   NA
  Big 5__O_original.2005 Big 5__O_original.2009 Big 5__O_original.2013
1                      5                      4                      3
2                      6                     NA                     NA
3                      5                      5                      5
4                      5                      5                      6
5                      7                     NA                     NA
6                     NA                     NA                     NA
  Big 5__N_worry.2005 Big 5__N_worry.2009 Big 5__N_worry.2013
1                   6                   6                   6
2                   6                  NA                  NA
3                   4                   6                   3
4                   3                   3                   3
5                   4                  NA                  NA
6                  NA                  NA                  NA
  Big 5__A_forgive.2005 Big 5__A_forgive.2009 Big 5__A_forgive.2013
1                     5                     5                     4
2                    NA                    NA                    NA
3                     6                     7                     6
4                     3                     4                     3
5                     7                    NA                    NA
6                    NA                    NA                    NA
  Big 5__C_lazy.2005 Big 5__C_lazy.2009 Big 5__C_lazy.2013
1                  4                  4                  3
2                  1                 NA                 NA
3                  4                  2                  4
4                  2                  4                  2
5                  5                 NA                 NA
6                 NA                 NA                 NA
  Big 5__E_sociable.2005 Big 5__E_sociable.2009 Big 5__E_sociable.2013
1                      5                      5                      4
2                      7                     NA                     NA
3                      3                      4                      6
4                      5                      5                      4
5                      4                     NA                     NA
6                     NA                     NA                     NA
  Big 5__O_artistic.2005 Big 5__O_artistic.2009 Big 5__O_artistic.2013
1                      3                      4                      3
2                      5                     NA                     NA
3                      5                      6                      5
4                      7                      5                      7
5                      6                     NA                     NA
6                     NA                     NA                     NA
  Big 5__N_nervous.2005 Big 5__N_nervous.2009 Big 5__N_nervous.2013
1                     3                     5                     2
2                     6                    NA                    NA
3                     5                     5                     2
4                     2                     3                     2
5                     5                    NA                    NA
6                    NA                    NA                    NA
  Big 5__C_efficient.2005 Big 5__C_efficient.2009 Big 5__C_efficient.2013
1                       5                       6                       5
2                       4                      NA                      NA
3                       6                       7                       6
4                       6                       7                       6
5                       5                      NA                      NA
6                      NA                      NA                      NA
  Big 5__E_reserved.2005 Big 5__E_reserved.2009 Big 5__E_reserved.2013
1                      6                      6                      6
2                      7                     NA                     NA
3                      6                      4                      5
4                      4                      6                      5
5                      4                     NA                     NA
6                     NA                     NA                     NA
  Big 5__A_friendly.2005 Big 5__A_friendly.2009 Big 5__A_friendly.2013
1                      5                      5                      6
2                      7                     NA                     NA
3                      6                      6                      6
4                      5                      3                      2
5                      6                     NA                     NA
6                     NA                     NA                     NA
  Big 5__O_imagin.2005 Big 5__O_imagin.2009 Big 5__O_imagin.2013
1                    4                    4                    4
2                    6                   NA                   NA
3                    3                    4                    5
4                    3                    3                    4
5                    7                   NA                   NA
6                   NA                   NA                   NA
  Big 5__N_dealStress.2005 Big 5__N_dealStress.2009 Big 5__N_dealStress.2013
1                        3                        3                        5
2                        3                       NA                       NA
3                        4                        5                        6
4                        6                        3                        4
5                        6                       NA                       NA
6                       NA                       NA                       NA
  Life Event__ChldBrth.2005 Life Event__ChldBrth.2006 Life Event__ChldBrth.2007
1                        NA                        NA                        NA
2                        NA                        NA                        NA
3                        NA                        NA                        NA
4                        NA                        NA                        NA
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__ChldBrth.2008 Life Event__ChldBrth.2009 Life Event__ChldBrth.2010
1                        NA                        NA                        NA
2                        NA                        NA                        NA
3                        NA                        NA                        NA
4                        NA                        NA                        NA
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__ChldBrth.2011 Life Event__ChldBrth.2012 Life Event__ChldBrth.2013
1                        NA                        NA                        NA
2                        NA                        NA                        NA
3                        NA                        NA                        NA
4                        NA                        NA                        NA
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__ChldBrth.2014 Life Event__ChldBrth.2015
1                        NA                        NA
2                        NA                        NA
3                        NA                        NA
4                        NA                        NA
5                        NA                        NA
6                        NA                        NA
  Life Event__ChldMvOut.2005 Life Event__ChldMvOut.2006
1                         NA                         NA
2                         NA                         NA
3                         NA                         NA
4                         NA                         NA
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2007 Life Event__ChldMvOut.2008
1                         NA                         NA
2                         NA                         NA
3                         NA                         NA
4                         NA                         NA
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2009 Life Event__ChldMvOut.2010
1                         NA                         NA
2                         NA                         NA
3                         NA                         NA
4                         NA                         NA
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2011 Life Event__ChldMvOut.2012
1                         NA                         NA
2                         NA                         NA
3                         NA                         NA
4                         NA                         NA
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2013 Life Event__ChldMvOut.2014
1                         NA                         NA
2                         NA                         NA
3                         NA                         NA
4                         NA                         NA
5                         NA                         NA
6                         NA                         NA
  Life Event__ChldMvOut.2015 Life Event__Divorce.2005 Life Event__Divorce.2006
1                         NA                       NA                       NA
2                         NA                       NA                       NA
3                         NA                       NA                       NA
4                         NA                       NA                       NA
5                         NA                       NA                       NA
6                         NA                       NA                       NA
  Life Event__Divorce.2007 Life Event__Divorce.2008 Life Event__Divorce.2009
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Divorce.2010 Life Event__Divorce.2011 Life Event__Divorce.2012
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Divorce.2013 Life Event__Divorce.2014 Life Event__Divorce.2015
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2005 Life Event__DadDied.2006 Life Event__DadDied.2007
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2008 Life Event__DadDied.2009 Life Event__DadDied.2010
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2011 Life Event__DadDied.2012 Life Event__DadDied.2013
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__DadDied.2014 Life Event__DadDied.2015 Life Event__NewPart.2011
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__NewPart.2012 Life Event__NewPart.2013 Life Event__NewPart.2014
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__NewPart.2015 Life Event__Married.2005 Life Event__Married.2006
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Married.2007 Life Event__Married.2008 Life Event__Married.2009
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Married.2010 Life Event__Married.2011 Life Event__Married.2012
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__Married.2013 Life Event__Married.2014 Life Event__Married.2015
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2005 Life Event__MomDied.2006 Life Event__MomDied.2007
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2008 Life Event__MomDied.2009 Life Event__MomDied.2010
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2011 Life Event__MomDied.2012 Life Event__MomDied.2013
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__MomDied.2014 Life Event__MomDied.2015 Life Event__MoveIn.2005
1                        1                        1                      NA
2                       NA                       NA                      NA
3                       NA                       NA                      NA
4                       NA                       NA                      NA
5                       NA                       NA                      NA
6                       NA                       NA                      NA
  Life Event__MoveIn.2006 Life Event__MoveIn.2007 Life Event__MoveIn.2008
1                      NA                      NA                      NA
2                      NA                      NA                      NA
3                      NA                       1                      NA
4                      NA                      NA                      NA
5                      NA                      NA                      NA
6                      NA                       1                      NA
  Life Event__MoveIn.2009 Life Event__MoveIn.2010 Life Event__MoveIn.2011
1                      NA                      NA                      NA
2                      NA                      NA                      NA
3                      NA                      NA                      NA
4                      NA                      NA                      NA
5                      NA                      NA                      NA
6                      NA                      NA                      NA
  Life Event__MoveIn.2012 Life Event__MoveIn.2013 Life Event__MoveIn.2014
1                      NA                      NA                      NA
2                      NA                      NA                      NA
3                      NA                      NA                      NA
4                      NA                      NA                      NA
5                      NA                      NA                      NA
6                      NA                      NA                      NA
  Life Event__MoveIn.2015 Life Event__PartDied.2005 Life Event__PartDied.2006
1                      NA                        NA                        NA
2                      NA                        NA                        NA
3                      NA                        NA                        NA
4                      NA                        NA                        NA
5                      NA                        NA                        NA
6                      NA                        NA                        NA
  Life Event__PartDied.2007 Life Event__PartDied.2008 Life Event__PartDied.2009
1                        NA                        NA                        NA
2                        NA                        NA                        NA
3                        NA                         1                         1
4                        NA                        NA                        NA
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__PartDied.2010 Life Event__PartDied.2011 Life Event__PartDied.2012
1                        NA                        NA                        NA
2                        NA                        NA                        NA
3                        NA                        NA                        NA
4                        NA                        NA                        NA
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__PartDied.2013 Life Event__PartDied.2014 Life Event__PartDied.2015
1                        NA                        NA                        NA
2                        NA                        NA                        NA
3                        NA                        NA                        NA
4                        NA                        NA                        NA
5                        NA                        NA                        NA
6                        NA                        NA                        NA
  Life Event__SepPart.2005 Life Event__SepPart.2006 Life Event__SepPart.2007
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__SepPart.2008 Life Event__SepPart.2009 Life Event__SepPart.2010
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__SepPart.2011 Life Event__SepPart.2012 Life Event__SepPart.2013
1                       NA                       NA                       NA
2                       NA                       NA                       NA
3                       NA                       NA                       NA
4                       NA                       NA                       NA
5                       NA                       NA                       NA
6                       NA                       NA                       NA
  Life Event__SepPart.2014 Life Event__SepPart.2015
1                       NA                       NA
2                       NA                       NA
3                       NA                       NA
4                       NA                       NA
5                       NA                       NA
6                       NA                       NA</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>mapvalues technically is depreciated and not currently worked on. This is fine, but a newer replacement for it is using dplyr’s recode. However, it does not work well with vectorized names (which we pull in from our codebook) so it isn’t as useful for our purposes.</p>
<p>and again, this isnt the way you should do clean your data. Seeing alternative options help expands your possibilities. … like study abroad or dating.</p>
</section>
<section id="reverse-scoring" class="slide level2">
<h2>Reverse-Scoring</h2>
<p>Many scales we use have items that are positively or negatively keyed. High ratings on positively keyed items are indicative of being high on a construct. In contrast, high ratings on negatively keyed items are indicative of being low on a construct. Thus, to create the composite scores of constructs we often use, we must first “reverse” the negatively keyed items so that high scores indicate being higher on the construct.</p>
<p>There are a few ways to do this in <code>R</code>. Below, I’ll demonstrate how to do so using the <code>reverse.code()</code> function in the <code>psych</code> package in <code>R</code>. This function was built to make reverse coding more efficient (i.e.&nbsp;please don’t run every item that needs to be recoded with separate lines of code!!).</p>
<p>Before we can do that, though, we need to restructure the data a bit in order to bring in the reverse coding information from our codebook.</p>
</section>
<section class="slide level2">

<p>Bring the wide dataset to long</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb54"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb54-1"><a href="#cb54-1"></a>soep_long <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span></span>
<span id="cb54-2"><a href="#cb54-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Procedural"</span>), <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Demographic"</span>)),</span>
<span id="cb54-3"><a href="#cb54-3"></a>               <span class="at">names_to =</span> <span class="st">"item"</span>, </span>
<span id="cb54-4"><a href="#cb54-4"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>, </span>
<span id="cb54-5"><a href="#cb54-5"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>)</span>
<span id="cb54-6"><a href="#cb54-6"></a><span class="fu">str</span>(soep_long) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>tibble [471,722 × 6] (S3: tbl_df/tbl/data.frame)
 $ Procedural__SID      : num [1:471722] 901 901 901 901 901 901 901 901 901 901 ...
 $ Procedural__household: num [1:471722] 94 94 94 94 94 94 94 94 94 94 ...
 $ Demographic__DOB     : num [1:471722] 1951 1951 1951 1951 1951 ...
 $ Demographic__Sex     : num [1:471722] 2 2 2 2 2 2 2 2 2 2 ...
 $ item                 : chr [1:471722] "Big 5__C_thorough.2005" "Big 5__C_thorough.2013" "Big 5__E_communic.2005" "Big 5__E_communic.2009" ...
 $ value                : num [1:471722] 6 7 4 4 5 4 3 4 5 4 ...</code></pre>
</div>
</div>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  Procedural__SID Procedural__hou… Demographic__DOB Demographic__Sex item  value
            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1             901               94             1951                2 Big …     6
2             901               94             1951                2 Big …     7
3             901               94             1951                2 Big …     4
4             901               94             1951                2 Big …     4
5             901               94             1951                2 Big …     5
6             901               94             1951                2 Big …     4</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>Bring in the codebook relevant items for reverse coding</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1"></a>soep_long <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Procedural"</span>), <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Demographic"</span>)),</span>
<span id="cb57-3"><a href="#cb57-3"></a>               <span class="at">names_to =</span> <span class="st">"item"</span>, </span>
<span id="cb57-4"><a href="#cb57-4"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>, </span>
<span id="cb57-5"><a href="#cb57-5"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb57-6"><a href="#cb57-6"></a>  <span class="fu">left_join</span>(codebook <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">item =</span> new_name, reverse, mini, maxi)) </span>
<span id="cb57-7"><a href="#cb57-7"></a><span class="fu">head</span>(soep_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 9
  Procedural__SID Procedural__hou… Demographic__DOB Demographic__Sex item  value
            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; &lt;dbl&gt;
1             901               94             1951                2 Big …     6
2             901               94             1951                2 Big …     7
3             901               94             1951                2 Big …     4
4             901               94             1951                2 Big …     4
5             901               94             1951                2 Big …     5
6             901               94             1951                2 Big …     4
# … with 3 more variables: reverse &lt;int&gt;, mini &lt;int&gt;, maxi &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>Here we want to break our item column up into different components to assist with different calculations. Often you will have some sort of hierarchy of variables where items are nested within scales which are nested within questionnaires. This is where you can code that information.</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1"></a>soep_long <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Procedural"</span>), <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Demographic"</span>)),</span>
<span id="cb59-3"><a href="#cb59-3"></a>               <span class="at">names_to =</span> <span class="st">"item"</span>, </span>
<span id="cb59-4"><a href="#cb59-4"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>, </span>
<span id="cb59-5"><a href="#cb59-5"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb59-6"><a href="#cb59-6"></a>  <span class="fu">left_join</span>(codebook <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">item =</span> new_name, reverse, mini, maxi)) <span class="sc">%&gt;%</span> </span>
<span id="cb59-7"><a href="#cb59-7"></a>  <span class="fu">separate</span>(item, <span class="fu">c</span>(<span class="st">"type"</span>, <span class="st">"item"</span>), <span class="at">sep =</span> <span class="st">"__"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-8"><a href="#cb59-8"></a>  <span class="fu">separate</span>(item, <span class="fu">c</span>(<span class="st">"item"</span>, <span class="st">"year"</span>), <span class="at">sep =</span> <span class="st">"[.]"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb59-9"><a href="#cb59-9"></a>  <span class="fu">separate</span>(item, <span class="fu">c</span>(<span class="st">"trait"</span>, <span class="st">"item"</span>), <span class="at">sep =</span> <span class="st">"_"</span>) </span>
<span id="cb59-10"><a href="#cb59-10"></a><span class="fu">head</span>(soep_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 12
  Procedural__SID Procedural__hou… Demographic__DOB Demographic__Sex type  trait
            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1             901               94             1951                2 Big 5 C    
2             901               94             1951                2 Big 5 C    
3             901               94             1951                2 Big 5 E    
4             901               94             1951                2 Big 5 E    
5             901               94             1951                2 Big 5 E    
6             901               94             1951                2 Big 5 A    
# … with 6 more variables: item &lt;chr&gt;, year &lt;chr&gt;, value &lt;dbl&gt;, reverse &lt;int&gt;,
#   mini &lt;int&gt;, maxi &lt;int&gt;</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1"></a><span class="do">## almost half a million rows</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section class="slide level2">

<p>now it is ready to reverse code!</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb62"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb62-1"><a href="#cb62-1"></a>soep_long <span class="ot">&lt;-</span> soep <span class="sc">%&gt;%</span></span>
<span id="cb62-2"><a href="#cb62-2"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="fu">c</span>(<span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Procedural"</span>), <span class="sc">-</span><span class="fu">contains</span>(<span class="st">"Demographic"</span>)),</span>
<span id="cb62-3"><a href="#cb62-3"></a>               <span class="at">names_to =</span> <span class="st">"item"</span>, </span>
<span id="cb62-4"><a href="#cb62-4"></a>               <span class="at">values_to =</span> <span class="st">"value"</span>, </span>
<span id="cb62-5"><a href="#cb62-5"></a>               <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">%&gt;%</span></span>
<span id="cb62-6"><a href="#cb62-6"></a>  <span class="fu">left_join</span>(codebook <span class="sc">%&gt;%</span> <span class="fu">select</span>(<span class="at">item =</span> new_name, reverse, mini, maxi)) <span class="sc">%&gt;%</span> </span>
<span id="cb62-7"><a href="#cb62-7"></a>  <span class="fu">separate</span>(item, <span class="fu">c</span>(<span class="st">"type"</span>, <span class="st">"item"</span>), <span class="at">sep =</span> <span class="st">"__"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-8"><a href="#cb62-8"></a>  <span class="fu">separate</span>(item, <span class="fu">c</span>(<span class="st">"item"</span>, <span class="st">"year"</span>), <span class="at">sep =</span> <span class="st">"[.]"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-9"><a href="#cb62-9"></a>  <span class="fu">separate</span>(item, <span class="fu">c</span>(<span class="st">"trait"</span>, <span class="st">"item"</span>), <span class="at">sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb62-10"><a href="#cb62-10"></a>  <span class="fu">mutate</span>(<span class="at">value =</span> <span class="fu">as.numeric</span>(value), <span class="co"># change to numeric</span></span>
<span id="cb62-11"><a href="#cb62-11"></a>         <span class="at">value =</span> <span class="fu">ifelse</span>(reverse <span class="sc">==</span> <span class="sc">-</span><span class="dv">1</span>, </span>
<span id="cb62-12"><a href="#cb62-12"></a>            <span class="fu">reverse.code</span>(<span class="sc">-</span><span class="dv">1</span>, value, <span class="at">mini =</span> mini, <span class="at">maxi =</span> maxi), value))</span>
<span id="cb62-13"><a href="#cb62-13"></a><span class="fu">head</span>(soep_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 12
  Procedural__SID Procedural__hou… Demographic__DOB Demographic__Sex type  trait
            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1             901               94             1951                2 Big 5 C    
2             901               94             1951                2 Big 5 C    
3             901               94             1951                2 Big 5 E    
4             901               94             1951                2 Big 5 E    
5             901               94             1951                2 Big 5 E    
6             901               94             1951                2 Big 5 A    
# … with 6 more variables: item &lt;chr&gt;, year &lt;chr&gt;, value &lt;dbl&gt;, reverse &lt;int&gt;,
#   mini &lt;int&gt;, maxi &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section id="create-composites" class="slide level2">
<h2>Create Composites</h2>
<p>Now that we have reverse coded our items, we can create composites.</p>
<p>We’ll start with our scale – in this case, the Big 5 from the German translation of the BFI-S.</p>
<p>The “simplest” way, which is also the longest way because you’d have to do it for each scale, in each year is to use a function like rowMeans which I don’t recommend as that will be MANY MANY lines of code.</p>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb64"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb64-1"><a href="#cb64-1"></a>soep<span class="sc">$</span>C<span class="fl">.2005</span> <span class="ot">&lt;-</span> <span class="fu">with</span>(soep, <span class="fu">rowMeans</span>(<span class="fu">cbind</span>(<span class="st">`</span><span class="at">Big 5__C_thorough.2005</span><span class="st">`</span>, </span>
<span id="cb64-2"><a href="#cb64-2"></a><span class="st">`</span><span class="at">Big 5__C_lazy.2005</span><span class="st">`</span>, </span>
<span id="cb64-3"><a href="#cb64-3"></a><span class="st">`</span><span class="at">Big 5__C_efficient.2005</span><span class="st">`</span>), </span>
<span id="cb64-4"><a href="#cb64-4"></a><span class="at">na.rm =</span> T)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>DO NOT COPY AND PASTE IN YOUR CODE</p>
</section>
<section class="slide level2">

<p>We can use our codebook and <code>dplyr</code> to make our lives a whole lot easier. In general, trying to run everything simultaneously saves from copy-paste errors, makes your code more readable, and reduces the total amount of code. So while the below code may not make intuitive sense immediately, it is nonetheless what we are working towards. Also, going through line by line will help you see that.</p>
<p>First, make sure we are only working with Big Five rows.</p>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>tibble [452,104 × 12] (S3: tbl_df/tbl/data.frame)
 $ Procedural__SID      : num [1:452104] 901 901 901 901 901 901 901 901 901 901 ...
 $ Procedural__household: num [1:452104] 94 94 94 94 94 94 94 94 94 94 ...
 $ Demographic__DOB     : num [1:452104] 1951 1951 1951 1951 1951 ...
 $ Demographic__Sex     : num [1:452104] 2 2 2 2 2 2 2 2 2 2 ...
 $ type                 : chr [1:452104] "Big 5" "Big 5" "Big 5" "Big 5" ...
 $ trait                : chr [1:452104] "C" "C" "E" "E" ...
 $ item                 : chr [1:452104] "thorough" "thorough" "communic" "communic" ...
 $ year                 : chr [1:452104] "2005" "2013" "2005" "2009" ...
 $ value                : num [1:452104] 6 7 4 4 5 4 3 4 5 4 ...
 $ reverse              : int [1:452104] 1 1 1 1 1 -1 -1 -1 1 1 ...
 $ mini                 : int [1:452104] 1 1 1 1 1 1 1 1 1 1 ...
 $ maxi                 : int [1:452104] 7 7 7 7 7 7 7 7 7 7 ...</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb66"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb66-1"><a href="#cb66-1"></a>b5_soep_long<span class="ot">&lt;-</span> soep_long <span class="sc">%&gt;%</span></span>
<span id="cb66-2"><a href="#cb66-2"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Big 5"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb66-3"><a href="#cb66-3"></a>  <span class="fu">group_by</span>(Procedural__SID, trait, year) <span class="sc">%&gt;%</span> </span>
<span id="cb66-4"><a href="#cb66-4"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">value =</span> <span class="fu">mean</span>(value, <span class="at">na.rm =</span> T)) </span>
<span id="cb66-5"><a href="#cb66-5"></a><span class="fu">head</span>(b5_soep_long)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
# Groups:   Procedural__SID, trait [2]
  Procedural__SID trait year  value
            &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt;
1             901 A     2005   4.67
2             901 A     2009   4.33
3             901 A     2013   4.67
4             901 C     2005   5   
5             901 C     2009   5   
6             901 C     2013   5   </code></pre>
</div>
</div>
<p>Now that we have our means we can bring the demographic info back into the dataframe…or whatever else you would want to bring in.</p>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb68"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb68-1"><a href="#cb68-1"></a>b5_soep_long <span class="ot">&lt;-</span> soep_long <span class="sc">%&gt;%</span></span>
<span id="cb68-2"><a href="#cb68-2"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Big 5"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb68-3"><a href="#cb68-3"></a>  <span class="fu">group_by</span>(Procedural__SID, trait, year) <span class="sc">%&gt;%</span> </span>
<span id="cb68-4"><a href="#cb68-4"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">value =</span> <span class="fu">mean</span>(value, <span class="at">na.rm =</span> T)) <span class="sc">%&gt;%</span> </span>
<span id="cb68-5"><a href="#cb68-5"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span> </span>
<span id="cb68-6"><a href="#cb68-6"></a>  <span class="fu">left_join</span>(soep_long <span class="sc">%&gt;%</span> </span>
<span id="cb68-7"><a href="#cb68-7"></a>    <span class="fu">select</span>(Procedural__SID, <span class="at">DOB =</span> Demographic__DOB, <span class="at">Sex =</span> Demographic__Sex) <span class="sc">%&gt;%</span></span>
<span id="cb68-8"><a href="#cb68-8"></a>    <span class="fu">distinct</span>())</span>
<span id="cb68-9"><a href="#cb68-9"></a></span>
<span id="cb68-10"><a href="#cb68-10"></a><span class="fu">head</span>(b5_soep_long) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 6
  Procedural__SID trait year  value   DOB   Sex
            &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1             901 A     2005   4.67  1951     2
2             901 A     2009   4.33  1951     2
3             901 A     2013   4.67  1951     2
4             901 C     2005   5     1951     2
5             901 C     2009   5     1951     2
6             901 C     2013   5     1951     2</code></pre>
</div>
</div>
</section>
<section id="descriptives" class="slide level2">
<h2>Descriptives</h2>
<p>Descriptives of your data are incredibly important. They help you check the distribution of your variables (e.g.&nbsp;non-normally distributed), look for implausible values made through coding or participant error, and allow you to anticipate what your findings will look like.</p>
<p>There are lots of ways to create great tables of descriptives.For now, we’ll use a wonderfully helpful function from the <code>psych</code> package called <code>describe()</code> in conjunction with a small amount of <code>tidyr</code> to reshape the data.</p>
</section>
<section id="metric-variables" class="slide level2">
<h2>metric variables</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb70"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb70-1"><a href="#cb70-1"></a>b5_soep_long_des <span class="ot">&lt;-</span> b5_soep_long <span class="sc">%&gt;%</span></span>
<span id="cb70-2"><a href="#cb70-2"></a>  <span class="fu">unite</span>(tmp, trait, year, <span class="at">sep =</span> <span class="st">"_"</span>) </span>
<span id="cb70-3"><a href="#cb70-3"></a><span class="fu">head</span>(b5_soep_long_des)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 5
  Procedural__SID tmp    value   DOB   Sex
            &lt;dbl&gt; &lt;chr&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
1             901 A_2005  4.67  1951     2
2             901 A_2009  4.33  1951     2
3             901 A_2013  4.67  1951     2
4             901 C_2005  5     1951     2
5             901 C_2009  5     1951     2
6             901 C_2013  5     1951     2</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb72"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb72-1"><a href="#cb72-1"></a>b5_soep_long_des <span class="ot">&lt;-</span> b5_soep_long <span class="sc">%&gt;%</span></span>
<span id="cb72-2"><a href="#cb72-2"></a>  <span class="fu">unite</span>(tmp, trait, year, <span class="at">sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span>  </span>
<span id="cb72-3"><a href="#cb72-3"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> tmp, <span class="at">values_from =</span> value) </span>
<span id="cb72-4"><a href="#cb72-4"></a><span class="fu">head</span>(b5_soep_long_des)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 18
  Procedural__SID   DOB   Sex A_2005 A_2009 A_2013 C_2005 C_2009 C_2013 E_2005
            &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;
1             901  1951     2   4.67   4.33   4.67   5         5   5      5   
2            1202  1913     2   4     NA     NA      4        NA  NA      6.67
3            2301  1946     1   5.67   5.67   4.67   5.67      5   5.33   5   
4            2302  1946     2   4.67   4      3.33   4.67      6   5      4.67
5            2304  1978     1   5.67  NA     NA      5        NA  NA      5   
6            4601  1933     2   5     NA     NA      3.5      NA  NA      4.67
# … with 8 more variables: E_2009 &lt;dbl&gt;, E_2013 &lt;dbl&gt;, N_2005 &lt;dbl&gt;,
#   N_2009 &lt;dbl&gt;, N_2013 &lt;dbl&gt;, O_2005 &lt;dbl&gt;, O_2009 &lt;dbl&gt;, O_2013 &lt;dbl&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb74"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb74-1"><a href="#cb74-1"></a>b5_soep_long_des <span class="ot">&lt;-</span> b5_soep_long  <span class="sc">%&gt;%</span></span>
<span id="cb74-2"><a href="#cb74-2"></a>  <span class="fu">unite</span>(tmp, trait, year, <span class="at">sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb74-3"><a href="#cb74-3"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span>tmp, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span> </span>
<span id="cb74-4"><a href="#cb74-4"></a>  <span class="fu">describe</span>(.) </span>
<span id="cb74-5"><a href="#cb74-5"></a><span class="fu">head</span>(b5_soep_long_des)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>                vars     n       mean          sd     median    trimmed
Procedural__SID    1 16719 8321022.91 10677731.19 3105002.00 6487615.30
DOB                2 16719    1960.03       18.48    1960.00    1960.22
Sex                3 16719       1.52        0.50       2.00       1.53
A_2005             4 10419       4.75        0.74       4.67       4.75
A_2009             5 10294       4.69        0.74       4.67       4.70
A_2013             6  9535       4.76        0.73       4.67       4.76
                       mad  min      max    range  skew kurtosis       se
Procedural__SID 3735541.17  901 35022002 35021101  1.50     0.56 82579.80
DOB                  20.76 1909     1995       86 -0.08    -0.84     0.14
Sex                   0.00    1        2        1 -0.10    -1.99     0.00
A_2005                0.49    1        7        6 -0.13     1.02     0.01
A_2009                0.49    1        7        6 -0.15     0.80     0.01
A_2013                0.49    1        7        6 -0.04     0.80     0.01</code></pre>
</div>
</div>
</section>
<section id="count-variables" class="slide level2">
<h2>count variables</h2>
<p>We have life event variable in the dataset that is a count variable. It asks did someone experience a life event during the previous year. also want to create a variable that indexes whether our participants experienced any of the life events during the years of interest (2005-2015).</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb76"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb76-1"><a href="#cb76-1"></a>events_long  <span class="ot">&lt;-</span>soep_long <span class="sc">%&gt;%</span></span>
<span id="cb76-2"><a href="#cb76-2"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Life Event"</span>) </span>
<span id="cb76-3"><a href="#cb76-3"></a><span class="fu">head</span>(events_long )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 12
  Procedural__SID Procedural__hou… Demographic__DOB Demographic__Sex type  trait
            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
1             901               94             1951                2 Life… MomD…
2             901               94             1951                2 Life… MomD…
3            2301              230             1946                1 Life… Move…
4            2301              230             1946                1 Life… Part…
5            2301              230             1946                1 Life… Part…
6            2305              230             1946                2 Life… Move…
# … with 6 more variables: item &lt;chr&gt;, year &lt;chr&gt;, value &lt;dbl&gt;, reverse &lt;int&gt;,
#   mini &lt;int&gt;, maxi &lt;int&gt;</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<div class="sourceCode cell-code" id="cb78"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb78-1"><a href="#cb78-1"></a>events_long <span class="ot">&lt;-</span> soep_long <span class="sc">%&gt;%</span></span>
<span id="cb78-2"><a href="#cb78-2"></a>  <span class="fu">filter</span>(type <span class="sc">==</span> <span class="st">"Life Event"</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb78-3"><a href="#cb78-3"></a>  <span class="fu">group_by</span>(Procedural__SID, trait) <span class="sc">%&gt;%</span> </span>
<span id="cb78-4"><a href="#cb78-4"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">value =</span> <span class="fu">sum</span>(value, <span class="at">na.rm =</span> T),<span class="at">value =</span> <span class="fu">ifelse</span>(value <span class="sc">&gt;</span> <span class="dv">1</span>, <span class="dv">1</span>, <span class="dv">0</span>))</span>
<span id="cb78-5"><a href="#cb78-5"></a><span class="fu">head</span>(events_long )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 3
# Groups:   Procedural__SID [5]
  Procedural__SID trait     value
            &lt;dbl&gt; &lt;chr&gt;     &lt;dbl&gt;
1             901 MomDied       1
2            2301 MoveIn        0
3            2301 PartDied      1
4            2305 MoveIn        0
5            4601 PartDied      0
6            5201 ChldMvOut     1</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<p>For count variables, like life events, we need to use something slightly different. We’re typically more interested in counts – in this case, how many people experienced each life event in the 10 years we’re considering?</p>
<p>To do this, we’ll use a little bit of <code>dplyr</code> rather than the base <code>R</code> function <code>table()</code> that is often used for count data. Instead, we’ll use a combination of <code>group_by()</code> and <code>n()</code> to get the counts by group. In the end, we’re left with a nice little table of counts.</p>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb80"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb80-1"><a href="#cb80-1"></a>events_long <span class="sc">%&gt;%</span></span>
<span id="cb80-2"><a href="#cb80-2"></a>  <span class="fu">group_by</span>(trait, value) <span class="sc">%&gt;%</span> </span>
<span id="cb80-3"><a href="#cb80-3"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">N =</span> <span class="fu">n</span>()) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 20 × 3
# Groups:   trait [10]
   trait     value     N
   &lt;chr&gt;     &lt;dbl&gt; &lt;int&gt;
 1 ChldBrth      0  1600
 2 ChldBrth      1   735
 3 ChldMvOut     0  1555
 4 ChldMvOut     1   830
 5 DadDied       0   953
 6 DadDied       1   213
 7 Divorce       0   414
 8 Divorce       1   122
 9 Married       0  1646
10 Married       1   331
11 MomDied       0   929
12 MomDied       1   219
13 MoveIn        0  1403
14 MoveIn        1   419
15 NewPart       0  1207
16 NewPart       1   420
17 PartDied      0   402
18 PartDied      1    76
19 SepPart       0  1172
20 SepPart       1   415</code></pre>
</div>
</div>
</section>
<section class="slide level2">

<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb82"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb82-1"><a href="#cb82-1"></a>events_long <span class="sc">%&gt;%</span></span>
<span id="cb82-2"><a href="#cb82-2"></a>  <span class="fu">group_by</span>(trait, value) <span class="sc">%&gt;%</span> </span>
<span id="cb82-3"><a href="#cb82-3"></a>  dplyr<span class="sc">::</span><span class="fu">summarize</span>(<span class="at">N =</span> <span class="fu">n</span>()) <span class="sc">%&gt;%</span></span>
<span id="cb82-4"><a href="#cb82-4"></a>  <span class="fu">ungroup</span>() <span class="sc">%&gt;%</span></span>
<span id="cb82-5"><a href="#cb82-5"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> value, <span class="at">values_from =</span> N)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 10 × 3
   trait       `0`   `1`
   &lt;chr&gt;     &lt;int&gt; &lt;int&gt;
 1 ChldBrth   1600   735
 2 ChldMvOut  1555   830
 3 DadDied     953   213
 4 Divorce     414   122
 5 Married    1646   331
 6 MomDied     929   219
 7 MoveIn     1403   419
 8 NewPart    1207   420
 9 PartDied    402    76
10 SepPart    1172   415</code></pre>
</div>
</div>
</section>
<section id="zero-order-correlations" class="slide level2">
<h2>Zero-Order Correlations</h2>
<p>To run the correlations, we will need to have our data in wide format</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb84"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb84-1"><a href="#cb84-1"></a>b5_soep_long <span class="sc">%&gt;%</span></span>
<span id="cb84-2"><a href="#cb84-2"></a>  <span class="fu">unite</span>(tmp, trait, year, <span class="at">sep =</span> <span class="st">"_"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-3"><a href="#cb84-3"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> tmp, <span class="at">values_from =</span> value) <span class="sc">%&gt;%</span> </span>
<span id="cb84-4"><a href="#cb84-4"></a>  <span class="fu">select</span>(<span class="sc">-</span>Procedural__SID) <span class="sc">%&gt;%</span></span>
<span id="cb84-5"><a href="#cb84-5"></a>  <span class="fu">cor</span>(., <span class="at">use =</span> <span class="st">"pairwise"</span>) <span class="sc">%&gt;%</span></span>
<span id="cb84-6"><a href="#cb84-6"></a>  <span class="fu">round</span>(., <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>         DOB   Sex A_2005 A_2009 A_2013 C_2005 C_2009 C_2013 E_2005 E_2009
DOB     1.00  0.00   0.02   0.05   0.05   0.13   0.17   0.17  -0.03  -0.01
Sex     0.00  1.00  -0.01  -0.02   0.01  -0.06  -0.05  -0.05   0.10   0.09
A_2005  0.02 -0.01   1.00   0.30   0.26   0.21   0.07   0.05   0.28   0.12
A_2009  0.05 -0.02   0.30   1.00   0.32   0.08   0.21   0.06   0.15   0.28
A_2013  0.05  0.01   0.26   0.32   1.00   0.05   0.07   0.19   0.13   0.15
C_2005  0.13 -0.06   0.21   0.08   0.05   1.00   0.30   0.26   0.24   0.09
C_2009  0.17 -0.05   0.07   0.21   0.07   0.30   1.00   0.37   0.09   0.25
C_2013  0.17 -0.05   0.05   0.06   0.19   0.26   0.37   1.00   0.06   0.07
E_2005 -0.03  0.10   0.28   0.15   0.13   0.24   0.09   0.06   1.00   0.39
E_2009 -0.01  0.09   0.12   0.28   0.15   0.09   0.25   0.07   0.39   1.00
E_2013 -0.08  0.12   0.11   0.15   0.28   0.08   0.11   0.22   0.38   0.42
N_2005 -0.08  0.13   0.23   0.07   0.08   0.09  -0.02  -0.04   0.18   0.07
N_2009 -0.04  0.14   0.10   0.23   0.10   0.01   0.10  -0.01   0.09   0.16
N_2013 -0.05  0.13   0.09   0.07   0.21   0.02  -0.01   0.08   0.09   0.10
O_2005  0.11  0.06   0.23   0.14   0.13   0.24   0.14   0.13   0.36   0.23
O_2009  0.10  0.05   0.10   0.24   0.13   0.14   0.23   0.12   0.19   0.34
O_2013  0.05  0.07   0.10   0.12   0.23   0.11   0.11   0.20   0.19   0.21
       E_2013 N_2005 N_2009 N_2013 O_2005 O_2009 O_2013
DOB     -0.08  -0.08  -0.04  -0.05   0.11   0.10   0.05
Sex      0.12   0.13   0.14   0.13   0.06   0.05   0.07
A_2005   0.11   0.23   0.10   0.09   0.23   0.10   0.10
A_2009   0.15   0.07   0.23   0.07   0.14   0.24   0.12
A_2013   0.28   0.08   0.10   0.21   0.13   0.13   0.23
C_2005   0.08   0.09   0.01   0.02   0.24   0.14   0.11
C_2009   0.11  -0.02   0.10  -0.01   0.14   0.23   0.11
C_2013   0.22  -0.04  -0.01   0.08   0.13   0.12   0.20
E_2005   0.38   0.18   0.09   0.09   0.36   0.19   0.19
E_2009   0.42   0.07   0.16   0.10   0.23   0.34   0.21
E_2013   1.00   0.08   0.07   0.17   0.20   0.21   0.35
N_2005   0.08   1.00   0.34   0.32   0.14   0.03   0.05
N_2009   0.07   0.34   1.00   0.39   0.05   0.13   0.03
N_2013   0.17   0.32   0.39   1.00   0.04   0.06   0.15
O_2005   0.20   0.14   0.05   0.04   1.00   0.58   0.55
O_2009   0.21   0.03   0.13   0.06   0.58   1.00   0.61
O_2013   0.35   0.05   0.03   0.15   0.55   0.61   1.00</code></pre>
</div>
</div>

<div class="footer footer-default">

</div>
</section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="site_libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="site_libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="site_libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="site_libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="site_libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="site_libs/revealjs/plugin/notes/notes.js"></script>
  <script src="site_libs/revealjs/plugin/search/search.js"></script>
  <script src="site_libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="site_libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': true,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":false},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        function fireSlideChanged(previousSlide, currentSlide) {

          // dispatch for htmlwidgets
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for reveal
        if (window.Reveal) {
          window.Reveal.addEventListener("slidechanged", function(event) {
            fireSlideChanged(event.previousSlide, event.currentSlide);
          });
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        target: function(trigger) {
          return trigger.previousElementSibling;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        setTimeout(function() {
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'quarto-reveal',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          let href = ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const cites = ref.parentNode.getAttribute('data-cites').split(' ');
        tippyHover(ref, function() {
          var popup = window.document.createElement('div');
          cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    });
    </script>
    

</body></html>